<ui:composition template="/layout/layout.xhtml" 
			xmlns="http://www.w3.org/1999/xhtml" 
			xmlns:ui="http://java.sun.com/jsf/facelets"
  			xmlns:h="http://java.sun.com/jsf/html" 
  			xmlns:f="http://java.sun.com/jsf/core"
			xmlns:a4j="http://richfaces.org/a4j"
  			xmlns:rich="http://richfaces.org/rich"
  			xmlns:t="http://myfaces.apache.org/tomahawk">


	<ui:define name="content">
	 	<t:saveState value="#{simpleTableBean}"/>
	
		<h:form id="form">
    		<a4j:region id="tablePageRegion">
			<rich:dataTable value="#{simpleTableBean.table.model}" id="items"
					var="item" styleClass="datagrid" 
					rowClasses="tableOdd,tableEven" cellspacing="1" 
    				rows="#{simpleTableBean.table.pageData.rowsPerPage}" width="100%" reRender="bottomScroller, pageCnt">
				<rich:column sortBy="#{item.strItem}" filterBy="#{item.strItem}">
						<f:facet name="header">
							<h:outputText value="String Column" />
    					</f:facet>
    					<h:outputText value="#{item.strItem}" />   
    			</rich:column>
				<rich:column sortBy="#{item.intItem}" filterBy="#{item.intItem}">
						<f:facet name="header">
							<h:outputText value="Integer Column" />
    					</f:facet>
    					<h:outputText value="#{item.intItem}" />   
    			</rich:column>
				<rich:column sortBy="#{item.floatItem}" filterBy="#{item.floatItem}">
						<f:facet name="header">
							<h:outputText value="Float Column" />
    					</f:facet>
    					<h:outputText value="#{item.floatItem}"/>   
    			</rich:column>
    		</rich:dataTable>
 
    		<div class="spacer"/>
        	<rich:datascroller id="bottomScroller" for="items" immediate="true" 
            			scrollerListener="#{simpleTableBean.table.scrollerListener}"
            			
            			reRender="pageCnt" 
                        requestDelay="200" eventsQueue="pagerQueue" page="#{simpleTableBean.table.pageData.currentPage}"
                        renderIfSinglePage="true"/>
			</a4j:region>                        
                        
                                         
    		<div class="spacer"/>
			<h:panelGroup id="pageCnt">
				Currently Displaying Rows: <h:outputText value="#{simpleTableBean.table.pageData.pageStartRow}"/> - <h:outputText value="#{simpleTableBean.table.pageData.pageEndRow}"/><br/>
				Page: <h:outputText value="#{simpleTableBean.table.pageData.currentPage}"/>&#160;of&#160;<h:outputText value="#{simpleTableBean.table.pageData.numPages}"/>

				<a4j:status id="tableStatus" for="tablePageRegion">
					<f:facet name="start">
							<h:outputText><img src="#{facesContext.externalContext.request.contextPath}/images/progress2.gif" align="top" />&#160;</h:outputText>
					</f:facet>
				</a4j:status>
				  				
			</h:panelGroup>
		</h:form>
	
	</ui:define>

</ui:composition>
