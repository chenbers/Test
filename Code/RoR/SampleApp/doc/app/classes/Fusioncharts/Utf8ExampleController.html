<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: Fusioncharts::Utf8ExampleController</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">Fusioncharts::Utf8ExampleController</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../files/app/controllers/fusioncharts/utf8_example_controller_rb.html">
                app/controllers/fusioncharts/utf8_example_controller.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                <a href="../ApplicationController.html">
                ApplicationController
               </a>
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
Contains actions to show the UTF-8 chart examples. To use FusionCharts with
UTF-8 characters, remember the following:
</p>
<ul>
<li>dataURL method has to be used to get the xml.

</li>
<li>BOM has to present in the xml given as input to the chart.

</li>
</ul>
<p>
Steps to ensure correct UTF-8 output:
</p>
<ul>
<li>&lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html;
charset=utf-8&quot; /&gt; has to be present in the &lt;head&gt; section of
the page which contains UTF8 characters. Notice that we have included this
in the &quot;common.html.erb&quot; layout, so that it is avialable to all
pages.

</li>
<li>In the action which is the XML provider ( Here, <a
href="Utf8ExampleController.html#M000104">pie_data_french</a> or <a
href="Utf8ExampleController.html#M000101">pie_data_japanese</a> actions),
put these statements:

</li>
<li>response.content_type = Mime::XML

</li>
<li>response.charset = &quot;utf-8&quot;

</li>
<li>If you are using a xml file for the data, then the file should be saved
with UTF-8 encoding with UTF-8 BOM. It should have the xml declaration
also: &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;

</li>
<li>If you are generating xml dynamically, then in the xml provider ( here,
pie_data_japanese.html.erb and pie_data_french.html.erb ), use get_UTF8_BOM
and assign the BOM to the xml as initial value. This function present in <a
href="../FusionChartsHelper.html">FusionChartsHelper</a> library.

</li>
<li>After placing the BOM in the xml string, append the xml declaration:
&lt;?xml version=&#8216;1.0&#8217; encoding=&#8216;UTF-8&#8217;?&gt;.
Finally, append the actual chart xml.

</li>
<li>For using data from database, the default character set of the database
should be UTF-8. This can be done using the sql command:

</li>
</ul>
<p>
ALTER DATABASE DEFAULT CHARACTER SET = utf8;
</p>
<pre>
 The default charset of the table containing the UTF characters should be UTF-8. This can be done by adding &quot;DEFAULT CHARSET=utf8;&quot; at the end of the table definition.
 In the config/database.yml file the setting for encoding should be: encoding: UTF8
 For more details on UTF specific code, please see the view where the code resides.
</pre>

    </div>


   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000103">french_dbexample</a>&nbsp;&nbsp;
      <a href="#M000102">french_xmlfile_example</a>&nbsp;&nbsp;
      <a href="#M000100">japanese_dbexample</a>&nbsp;&nbsp;
      <a href="#M000099">japanese_xmlfile_example</a>&nbsp;&nbsp;
      <a href="#M000104">pie_data_french</a>&nbsp;&nbsp;
      <a href="#M000101">pie_data_japanese</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">





      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000103" class="method-detail">
        <a name="M000103"></a>

        <div class="method-heading">
          <a href="Utf8ExampleController.src/M000103.html" target="Code" class="method-signature"
            onclick="popupCode('Utf8ExampleController.src/M000103.html');return false;">
          <span class="method-name">french_dbexample</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
In this example, we show how to use UTF8 characters in FusionCharts by
connecting to a database and using dataURL method. Here, the XML data for
the chart is generated in <a
href="Utf8ExampleController.html#M000104">pie_data_french</a> function. The
function itself does not contain any specific code to handle UTF8
characters. NOTE: It&#8216;s necessary to encode the dataURL if
you&#8216;ve added parameters to it.
</p>
        </div>
      </div>

      <div id="method-M000102" class="method-detail">
        <a name="M000102"></a>

        <div class="method-heading">
          <a href="Utf8ExampleController.src/M000102.html" target="Code" class="method-signature"
            onclick="popupCode('Utf8ExampleController.src/M000102.html');return false;">
          <span class="method-name">french_xmlfile_example</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
This is an example showing French characters on the chart. Here,
we&#8216;ve used a pre-defined FrenchData.xml (contained in /Data/ folder)
This action uses the dataURL method of FusionCharts. A view with the same
name french_xmlfile_example.html.erb is present and it is this view, which
gets rendered with the layout &quot;common&quot;. render_chart function
from the helper is invoked to render the chart. The function itself has no
code, all the work is done in the view. For more details on UTF specific
code, please see the view where the code resides.
</p>
        </div>
      </div>

      <div id="method-M000100" class="method-detail">
        <a name="M000100"></a>

        <div class="method-heading">
          <a href="Utf8ExampleController.src/M000100.html" target="Code" class="method-signature"
            onclick="popupCode('Utf8ExampleController.src/M000100.html');return false;">
          <span class="method-name">japanese_dbexample</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
In this example, we show how to use UTF8 characters in FusionCharts by
connecting to a database and using dataURL method. Here, the XML data for
the chart is generated in <a
href="Utf8ExampleController.html#M000101">pie_data_japanese</a> function.
The function itself does not contain any specific code to handle UTF8
characters. NOTE: It&#8216;s necessary to encode the dataURL if
you&#8216;ve added parameters to it.
</p>
        </div>
      </div>

      <div id="method-M000099" class="method-detail">
        <a name="M000099"></a>

        <div class="method-heading">
          <a href="Utf8ExampleController.src/M000099.html" target="Code" class="method-signature"
            onclick="popupCode('Utf8ExampleController.src/M000099.html');return false;">
          <span class="method-name">japanese_xmlfile_example</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
This is an example showing Japanese characters on the chart. Here,
we&#8216;ve used a pre-defined JapaneseData.xml (contained in /Data/
folder) This action uses the dataURL method of FusionCharts. A view with
the same name japanese_xmlfile_example.html.erb is present and it is this
view, which gets rendered with the layout &quot;common&quot;. render_chart
function from the helper is invoked to render the chart. The function
itself has no code, all the work is done in the view.
</p>
        </div>
      </div>

      <div id="method-M000104" class="method-detail">
        <a name="M000104"></a>

        <div class="method-heading">
          <a href="Utf8ExampleController.src/M000104.html" target="Code" class="method-signature"
            onclick="popupCode('Utf8ExampleController.src/M000104.html');return false;">
          <span class="method-name">pie_data_french</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Finds all the factories. Factory name in french is obtained from <a
href="FrenchFactoryMaster.html">FrenchFactoryMaster</a>. Content-type for
response is set to text/xml and charset to UTF-8.
</p>
        </div>
      </div>

      <div id="method-M000101" class="method-detail">
        <a name="M000101"></a>

        <div class="method-heading">
          <a href="Utf8ExampleController.src/M000101.html" target="Code" class="method-signature"
            onclick="popupCode('Utf8ExampleController.src/M000101.html');return false;">
          <span class="method-name">pie_data_japanese</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Finds all the factories Factory name in japanese is obtained from <a
href="JapaneseFactoryMaster.html">JapaneseFactoryMaster</a>. Content-type
for response is set to text/xml and charset to UTF-8.
</p>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>