<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:h="http://java.sun.com/jsf/html">

	<!-- 
	Parameters:
		reportBean - needs to be a bean that implements the action - exportToPDF
	
	 -->
	

	<a4j:region id="#{ajaxForm}_region">
		<a4j:form id="#{ajaxForm}">

			<h:inputHidden id="dateLinksWithGrpId"
				value="#{navigationBean.groupID}" />

			<span class="panel_links_ico"> <a4j:status
				id="#{ajaxStatusID}" for="#{ajaxForm}_region">
				<f:facet name="start">
					<h:outputText>
						<img
							src="#{facesContext.externalContext.request.contextPath}/images/progress2.gif"
							align="top" />&#160;</h:outputText>
				</f:facet>
			</a4j:status> <rich:spacer width="10" /> <a4j:commandLink
				title="#{messages.duration_days}" immediate="true"
				styleClass="#{thirtyDaysOn}" reRender="#{reRenderList}"
				value="#{messages.duration_days}">
				<f:setPropertyActionListener value="#{flyNavRule}"
					target="#{flyOutBean.navigationRule}" />
				<f:setPropertyActionListener value="#{flySelectedTab}"
					target="#{flyOutBean.selectedTab}" />
				<a4j:actionparam name="duration" assignTo="#{duration}" value="DAYS" />
			</a4j:commandLink> <rich:spacer width="5"></rich:spacer> <a4j:commandLink
				title="#{messages.duration_three}" immediate="true"
				styleClass="#{threeMonthsOn}" reRender="#{reRenderList}"
				value="#{messages.duration_three}">
				<f:setPropertyActionListener value="#{flyNavRule}"
					target="#{flyOutBean.navigationRule}" />
				<f:setPropertyActionListener value="#{flySelectedTab}"
					target="#{flyOutBean.selectedTab}" />
				<a4j:actionparam name="duration" assignTo="#{duration}"
					value="THREE" />
			</a4j:commandLink> <rich:spacer width="5"></rich:spacer> <a4j:commandLink
				title="#{messages.duration_six}" immediate="true"
				styleClass="#{sixMonthsOn}" reRender="#{reRenderList}"
				value="#{messages.duration_six}">
				<f:setPropertyActionListener value="#{flyNavRule}"
					target="#{flyOutBean.navigationRule}" />
				<f:setPropertyActionListener value="#{flySelectedTab}"
					target="#{flyOutBean.selectedTab}" />
				<a4j:actionparam name="duration" assignTo="#{duration}" value="SIX" />
			</a4j:commandLink> <rich:spacer width="5"></rich:spacer> <a4j:commandLink
				title="#{messages.duration_twelve}" immediate="true"
				styleClass="#{twelveMonthsOn}" reRender="#{reRenderList}"
				value="#{messages.duration_twelve}">
				<f:setPropertyActionListener value="#{flyNavRule}"
					target="#{flyOutBean.navigationRule}" />
				<f:setPropertyActionListener value="#{flySelectedTab}"
					target="#{flyOutBean.selectedTab}" />
				<a4j:actionparam name="duration" assignTo="#{duration}"
					value="TWELVE" />
			</a4j:commandLink> </span>
			
			
			<span class="panel_ico"> <img
				id="#{ajaxForm}_toolsId" src="#{facesContext.externalContext.request.contextPath}/images/ico_tools.png"
				border="0" /> <rich:spacer width="2" /> <h:commandLink
				action="#{flyOutBean.flyNavRuleAction}">
				<img
					src="#{facesContext.externalContext.request.contextPath}/images/#{flyOutImage}"
					border="0" />
				<f:setPropertyActionListener value="#{flyNavRule}"
					target="#{flyOutBean.navigationRule}" />
				<f:setPropertyActionListener value="#{flySelectedTab}"
					target="#{flyOutBean.selectedTab}" />
				<f:setPropertyActionListener value="#{numRowsPerPg}"
					target="#{navigationBean.numRowsPerPg}"/>
				<c:if test="#{!empty groupID}">
					<f:param name="groupID" value="#{groupID}" />
				</c:if>
			</h:commandLink> </span>
		
			<rich:contextMenu event="onclick"
				attachTiming="onavailable" disableDefaultMenu="false"
				submitMode="server" attachTo="#{ajaxForm}_toolsId" zindex="6">
				<rich:menuItem ajaxSingle="true" rendered="true"
					iconDisabled="/images/ico_email.gif" icon="/images/ico_email.gif"
					value="Email Report" id="#{ajaxForm}_email" action="go_emailReports">
					<a4j:actionparam assignTo="#{reportRendererBean.reportType}" value="#{reportType}"/>
					<a4j:actionparam assignTo="#{reportRendererBean.duration}" converter="SimpleBeanConverter" value="#{duration}" />
				</rich:menuItem>

				<rich:menuItem ajaxSingle="true" iconDisabled="/images/ico_pdf.gif"
					disabled="#{reportType eq null?'true':'false'}"
					icon="/images/ico_pdf.gif" value="Export To PDF"
					action="#{reportRendererBean.exportReportToPDF}" id="export">
					<a4j:actionparam assignTo="#{reportRendererBean.reportType}" value="#{reportType}"/>
					<a4j:actionparam assignTo="#{duration}" converter="SimpleBeanConverter" value="#{duration}" />
				</rich:menuItem>
			</rich:contextMenu>
		</a4j:form>
	</a4j:region>


	

</ui:composition>