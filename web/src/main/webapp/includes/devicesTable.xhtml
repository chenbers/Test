<ui:composition template="adminTable.xhtml"
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:rich="http://richfaces.org/rich"
  xmlns:security="http://www.springframework.org/security/tags">

  <ui:param name="recordCount" value="#{devicesBean.itemCount}" />
  <ui:param name="items" value="#{devicesBean.filteredItems}" />
  <ui:param name="filterValue" value="#{devicesBean.filterValue}" />
  <ui:param name="page" value="#{devicesBean.page}" />
  <ui:param name="editorBean" value="#{devicesBean}" />
  <ui:param name="allColumns" value="#{devicesBean.availableColumns}" />
  <ui:param name="allColumnsCount" value="#{devicesBean.availableColumnCount}" />
  <ui:param name="selectedColumns" value="#{devicesBean.columns}" />
  <ui:param name="messagesPrefix" value="devicesHeader_" />

  <ui:define name="columns">
    <rich:column rendered="#{devicesBean.columns['name']}" sortBy="#{item.name}" sortOrder="ASCENDING">
      <f:facet name="header"><h:outputText value="#{messages.devicesHeader_name}" /></f:facet>
      <h:commandLink action="#{devicesBean.display}" value="#{item.name}">
        <f:param name="displayID" value="#{item.id}" />
      </h:commandLink>
    </rich:column>
    <rich:column rendered="#{devicesBean.columns['vehicle']}" sortBy="#{item.vehicle.name}">
      <f:facet name="header"><h:outputText value="#{messages.devicesHeader_vehicle}" /></f:facet>
      <h:outputText value="#{item.vehicle.name}" />
    </rich:column>
    <rich:column rendered="#{devicesBean.columns['baselineID']}" sortBy="#{item.baselineID}">
      <f:facet name="header"><h:outputText value="#{messages.devicesHeader_baselineID}" /></f:facet>
      <h:outputText value="#{item.baselineID}" />
    </rich:column>
    <rich:column rendered="#{devicesBean.columns['mcmid']}" sortBy="#{item.mcmid}">
      <f:facet name="header"><h:outputText value="#{messages.devicesHeader_mcmid}" /></f:facet>
      <h:outputText value="#{item.mcmid}" />
    </rich:column>
    <rich:column rendered="#{devicesBean.columns['sim']}" sortBy="#{item.sim}">
      <f:facet name="header"><h:outputText value="#{messages.devicesHeader_sim}" /></f:facet>
      <h:outputText value="#{item.sim}" />
    </rich:column>
    <rich:column rendered="#{devicesBean.columns['phone']}" sortBy="#{item.phone}">
      <f:facet name="header"><h:outputText value="#{messages.devicesHeader_phone}" /></f:facet>
      <h:outputText value="#{item.phone}" />
    </rich:column>
    <rich:column rendered="#{devicesBean.columns['ephone']}" sortBy="#{item.ephone}">
      <f:facet name="header"><h:outputText value="#{messages.devicesHeader_ephone}" /></f:facet>
      <h:outputText value="#{item.ephone}" />
    </rich:column>
    <rich:column rendered="#{devicesBean.columns['activated']}" sortBy="#{item.activated}">
      <f:facet name="header"><h:outputText value="#{messages.devicesHeader_activated}" /></f:facet>
      <h:outputText value="#{item.activated}"><f:convertDateTime dateStyle="long" /></h:outputText>
    </rich:column>
    <rich:column rendered="#{devicesBean.columns['status']}" sortBy="#{item.status.description}">
      <f:facet name="header"><h:outputText value="#{messages.devicesHeader_status}" /></f:facet>
      <h:outputText value="#{item.status.description}" />
    </rich:column>
  </ui:define>

</ui:composition>