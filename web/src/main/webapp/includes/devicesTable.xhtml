<ui:composition template="adminTable.xhtml"
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:rich="http://richfaces.org/rich"
  xmlns:security="http://www.springframework.org/security/tags">

  <ui:param name="recordCount" value="#{devicesBean.itemCount}" />
  <ui:param name="items" value="#{devicesBean.filteredItems}" />
  <ui:param name="filterValue" value="#{devicesBean.filterValue}" />
  <ui:param name="page" value="#{devicesBean.page}" />
  <ui:param name="editorBean" value="#{devicesBean}" />
  <ui:param name="allColumns" value="#{devicesBean.availableColumns}" />
  <ui:param name="allColumnsCount" value="#{devicesBean.availableColumnCount}" />
  <ui:param name="selectedColumns" value="#{devicesBean.columns}" />
  <ui:param name="messagesPrefix" value="devicesHeader_" />

  <ui:define name="columns">
    <rich:column rendered="#{devicesBean.columns['name']}" sortBy="#{item.name}" sortOrder="ASCENDING">
      <f:facet name="header"><h:outputText value="#{messages.devicesHeader_name}" /></f:facet>
      <h:commandLink action="#{devicesBean.display}" value="#{item.name}">
        <f:param name="displayID" value="#{item.id}" />
      </h:commandLink>
    </rich:column>
    <rich:column rendered="#{devicesBean.columns['vehicle']}" sortBy="#{item.vehicle}">
      <f:facet name="header"><h:outputText value="#{messages.devicesHeader_vehicle}" /></f:facet>
      <h:outputText value="#{item.vehicle}" />
    </rich:column>
    <rich:column rendered="#{devicesBean.columns['group']}" sortBy="#{item.group.name}">
      <f:facet name="header"><h:outputText value="#{messages.devicesHeader_group}" /></f:facet>
      <h:outputText value="#{item.group.name}" />
    </rich:column>
    <rich:column rendered="#{devicesBean.columns['year']}" sortBy="#{item.year}">
      <f:facet name="header"><h:outputText value="#{messages.devicesHeader_year}" /></f:facet>
      <h:outputText value="#{item.year}" />
    </rich:column>
    <rich:column rendered="#{devicesBean.columns['make']}" sortBy="#{item.make}">
      <f:facet name="header"><h:outputText value="#{messages.devicesHeader_make}" /></f:facet>
      <h:outputText value="#{item.make}" />
    </rich:column>
    <rich:column rendered="#{devicesBean.columns['model']}" sortBy="#{item.model}">
      <f:facet name="header"><h:outputText value="#{messages.devicesHeader_model}" /></f:facet>
      <h:outputText value="#{item.model}" />
    </rich:column>
    <rich:column rendered="#{devicesBean.columns['color']}" sortBy="#{item.color}">
      <f:facet name="header"><h:outputText value="#{messages.devicesHeader_color}" /></f:facet>
      <h:outputText value="#{item.color}" />
    </rich:column>
    <rich:column rendered="#{devicesBean.columns['type']}" sortBy="#{item.type.description}">
      <f:facet name="header"><h:outputText value="#{messages.devicesHeader_type}" /></f:facet>
      <h:outputText value="#{item.type.description}" />
    </rich:column>
    <rich:column rendered="#{devicesBean.columns['VIN']}" sortBy="#{item.VIN}">
      <f:facet name="header"><h:outputText value="#{messages.devicesHeader_VIN}" /></f:facet>
      <h:outputText value="#{item.VIN}" />
    </rich:column>
    <rich:column rendered="#{devicesBean.columns['weight']}" sortBy="#{item.weight}">
      <f:facet name="header"><h:outputText value="#{messages.devicesHeader_weight}" /></f:facet>
      <h:outputText value="#{item.weight}"><f:convertNumber /></h:outputText>
    </rich:column>
    <rich:column rendered="#{devicesBean.columns['license']}" sortBy="#{item.license}">
      <f:facet name="header"><h:outputText value="#{messages.devicesHeader_license}" /></f:facet>
      <h:outputText value="#{item.license}" />
    </rich:column>
    <rich:column rendered="#{devicesBean.columns['state']}" sortBy="#{item.state}">
      <f:facet name="header"><h:outputText value="#{messages.devicesHeader_state}" /></f:facet>
      <h:outputText value="#{item.state.name}" />
    </rich:column>
    <rich:column rendered="#{devicesBean.columns['active']}" sortBy="#{item.active}">
      <f:facet name="header"><h:outputText value="#{messages.devicesHeader_active}" /></f:facet>
      <h:outputText value="#{item.active ? messages.active : messages.inactive}" />
    </rich:column>
    <rich:column rendered="#{devicesBean.columns['hardAccelerationLevel']}" sortBy="#{item.sensitivity.hardAccelerationLevel}">
      <f:facet name="header"><h:outputText value="#{messages.devicesHeader_hardAccelerationLevel}" /></f:facet>
<!-- TODO: a graphical display for this -->
      <h:outputText value="#{item.sensitivity.hardAccelerationLevel}" />
    </rich:column>
    <rich:column rendered="#{devicesBean.columns['hardTurnLevel']}" sortBy="#{item.sensitivity.hardTurnLevel}">
      <f:facet name="header"><h:outputText value="#{messages.devicesHeader_hardTurnLevel}" /></f:facet>
<!-- TODO: a graphical display for this -->
      <h:outputText value="#{item.sensitivity.hardTurnLevel}" />
    </rich:column>
    <rich:column rendered="#{devicesBean.columns['hardVerticalLevel']}" sortBy="#{item.sensitivity.hardVerticalLevel}">
      <f:facet name="header"><h:outputText value="#{messages.devicesHeader_hardVerticalLevel}" /></f:facet>
<!-- TODO: a graphical display for this -->
      <h:outputText value="#{item.sensitivity.hardVerticalLevel}" />
    </rich:column>
  </ui:define>

</ui:composition>