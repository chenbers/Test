<ui:composition template="adminTable.xhtml"
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:c="http://java.sun.com/jstl/core"
  xmlns:a4j="http://richfaces.org/a4j"
  xmlns:rich="http://richfaces.org/rich"
  xmlns:security="http://www.springframework.org/security/tags">

  <ui:param name="recordCount" value="#{vehiclesBean.itemCount}" />
  <ui:param name="items" value="#{vehiclesBean.filteredItems}" />
  <ui:param name="filterValue" value="#{vehiclesBean.filterValue}" />
  <ui:param name="page" value="#{vehiclesBean.page}" />
  <ui:param name="editorBean" value="#{vehiclesBean}" />

  <ui:define name="columns">
    <rich:column rendered="#{vehiclesBean.tableColumns['name'].visible}" sortBy="#{item.name}" sortOrder="ASCENDING">
      <f:facet name="header"><h:outputText value="#{messages.vehiclesHeader_name}" /></f:facet>
      <a4j:htmlCommandLink action="#{vehiclesBean.display}" value="#{item.name}">
        <f:param name="displayID" value="#{item.id}" />
      </a4j:htmlCommandLink>
    </rich:column>
    <rich:column rendered="#{vehiclesBean.tableColumns['driverID'].visible}" sortBy="#{item.driver.person.first}">
      <f:facet name="header"><h:outputText value="#{messages.vehiclesHeader_driverID}" /></f:facet>
      <h:outputText value="#{item.driver.person.fullName}" />
    </rich:column>
    <rich:column rendered="#{vehiclesBean.tableColumns['groupID'].visible}" sortBy="#{item.group.name}">
      <f:facet name="header"><h:outputText value="#{messages.vehiclesHeader_groupID}" /></f:facet>
      <h:outputText value="#{item.group.name}" />
    </rich:column>
    <rich:column rendered="#{vehiclesBean.tableColumns['year'].visible}" sortBy="#{item.year}">
      <f:facet name="header"><h:outputText value="#{messages.vehiclesHeader_year}" /></f:facet>
      <h:outputText value="#{item.year}" />
    </rich:column>
    <rich:column rendered="#{vehiclesBean.tableColumns['make'].visible}" sortBy="#{item.make}">
      <f:facet name="header"><h:outputText value="#{messages.vehiclesHeader_make}" /></f:facet>
      <h:outputText value="#{item.make}" />
    </rich:column>
    <rich:column rendered="#{vehiclesBean.tableColumns['model'].visible}" sortBy="#{item.model}">
      <f:facet name="header"><h:outputText value="#{messages.vehiclesHeader_model}" /></f:facet>
      <h:outputText value="#{item.model}" />
    </rich:column>
    <rich:column rendered="#{vehiclesBean.tableColumns['color'].visible}" sortBy="#{item.color}">
      <f:facet name="header"><h:outputText value="#{messages.vehiclesHeader_color}" /></f:facet>
      <h:outputText value="#{item.color}" />
    </rich:column>
    <rich:column rendered="#{vehiclesBean.tableColumns['vtype'].visible}" sortBy="#{item.vtype.description}">
      <f:facet name="header"><h:outputText value="#{messages.vehiclesHeader_vtype}" /></f:facet>
      <h:outputText value="#{item.vtype.description}" />
    </rich:column>
    <rich:column rendered="#{vehiclesBean.tableColumns['VIN'].visible}" sortBy="#{item.VIN}">
      <f:facet name="header"><h:outputText value="#{messages.vehiclesHeader_VIN}" /></f:facet>
      <h:outputText value="#{item.VIN}" />
    </rich:column>
    <rich:column rendered="#{vehiclesBean.tableColumns['weight'].visible}" sortBy="#{item.weight}">
      <f:facet name="header"><h:outputText value="#{messages.vehiclesHeader_weight}" /></f:facet>
      <h:outputText value="#{item.weight}"><f:convertNumber /></h:outputText>
    </rich:column>
    <rich:column rendered="#{vehiclesBean.tableColumns['license'].visible}" sortBy="#{item.license}">
      <f:facet name="header"><h:outputText value="#{messages.vehiclesHeader_license}" /></f:facet>
      <h:outputText value="#{item.license}" />
    </rich:column>
    <rich:column rendered="#{vehiclesBean.tableColumns['state'].visible}" sortBy="#{item.state}">
      <f:facet name="header"><h:outputText value="#{messages.vehiclesHeader_state}" /></f:facet>
      <h:outputText value="#{item.state.name}" />
    </rich:column>
    <rich:column rendered="#{vehiclesBean.tableColumns['status'].visible}" sortBy="#{item.status.description}">
      <f:facet name="header"><h:outputText value="#{messages.vehiclesHeader_status}" /></f:facet>
      <c:set var="status" value="status#{item.status.code}" /><h:outputText value="#{messages[status]}" />
    </rich:column>
  </ui:define>

</ui:composition>