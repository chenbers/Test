<ui:composition template="adminTable.xhtml"
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:a4j="http://richfaces.org/a4j"
  xmlns:rich="http://richfaces.org/rich"
  xmlns:security="http://www.springframework.org/security/tags">

  <ui:param name="recordCount" value="#{reportScheduleBean.itemCount}" />
  <ui:param name="items" value="#{reportScheduleBean.filteredItems}" />
  <ui:param name="filterValue" value="#{reportScheduleBean.filterValue}" />
  <ui:param name="page" value="#{reportScheduleBean.page}" />
  <ui:param name="editorBean" value="#{reportScheduleBean}" />

  <ui:define name="columns">
  	<rich:column rendered="#{reportScheduleBean.tableColumns['name'].visible}" sortBy="#{item.name}" sortOrder="ASCENDING">
      <f:facet name="header"><h:outputText value="#{messages.reportSchedulesHeader_name}" /></f:facet>
      <a4j:htmlCommandLink action="#{reportScheduleBean.display}" value="#{item.name}">
        <f:param name="displayID" value="#{item.id}" />
      </a4j:htmlCommandLink>
    </rich:column>
    <rich:column rendered="#{reportScheduleBean.tableColumns['startDate'].visible}" sortBy="#{item.startDate}">
      <f:facet name="header"><h:outputText value="#{messages.reportSchedulesHeader_startDate}" /></f:facet>
      <h:outputText value="#{item.startDate}">
      	<f:convertDateTime timeZone="#{reportScheduleBean.utcTimeZone}" type="date" />
      </h:outputText>
    </rich:column>
    <rich:column rendered="#{reportScheduleBean.tableColumns['endDate'].visible}" sortBy="#{item.endDate}">
      <f:facet name="header"><h:outputText value="#{messages.reportSchedulesHeader_endDate}" /></f:facet>
      <h:outputText value="#{item.endDate}">
      	<f:convertDateTime timeZone="#{reportScheduleBean.utcTimeZone}" type="date" />
      </h:outputText>
    </rich:column>
    <rich:column rendered="#{reportScheduleBean.tableColumns['occurrence'].visible}" sortBy="#{item.occurrence}">
      <f:facet name="header"><h:outputText value="#{messages.reportSchedulesHeader_occurrence}" /></f:facet>
      <h:outputText value="#{item.occurrence}"/>
      <h:outputText rendered="#{item.occurrence eq 'WEEKLY'}">
      	  <br/>
      	  <h:outputText value=" "/>
	      <h:outputText  value="#{item.startDate}">
	      	   <f:convertDateTime pattern="EEEE" timeZone="#{reportScheduleBean.utcTimeZone}" type="date" />
	      </h:outputText>
      </h:outputText>
      <h:outputText rendered="#{item.occurrence eq 'DAILY_CUSTOM'}">
      	  <br/>
	      <h:outputText value="#{messages.dayPicker_sunday} " rendered="#{item.dayOfWeek[0]}"/>
          <h:outputText value="#{messages.dayPicker_monday} " rendered="#{item.dayOfWeek[1]}"/>
          <h:outputText value="#{messages.dayPicker_tuesday} " rendered="#{item.dayOfWeek[2]}"/>
          <h:outputText value="#{messages.dayPicker_wednesday} " rendered="#{item.dayOfWeek[3]}"/>
          <h:outputText value="#{messages.dayPicker_thursday_2} " rendered="#{item.dayOfWeek[4]}"/>
          <h:outputText value="#{messages.dayPicker_friday} " rendered="#{item.dayOfWeek[5]}"/>
          <h:outputText value="#{messages.dayPicker_saturday} " rendered="#{item.dayOfWeek[6]}"/>
      </h:outputText>
    </rich:column>
    <rich:column rendered="#{reportScheduleBean.tableColumns['lastEmail'].visible}" sortBy="#{item.lastDate}">
      <f:facet name="header"><h:outputText value="#{messages.reportSchedulesHeader_lastEmail}" /></f:facet>
      	<h:outputText value="#{item.lastDate}">
      		<f:convertDateTime timeZone="
      		#{reportScheduleBean.utcTimeZone}" type="date" />
      </h:outputText>
    </rich:column>
    <rich:column rendered="#{reportScheduleBean.tableColumns['report'].visible}" sortBy="#{item.report}">
      <f:facet name="header"><h:outputText value="#{messages.reportSchedulesHeader_report}" /></f:facet>
      <h:outputText value="#{item.report.label}">
      </h:outputText>
    </rich:column>
    <rich:column rendered="#{reportScheduleBean.tableColumns['report'].visible}" sortBy="#{item.status}">
      <f:facet name="header"><h:outputText value="#{messages.reportSchedulesHeader_status}" /></f:facet>
      <h:outputText value="#{item.status}">
      </h:outputText>
    </rich:column>
  </ui:define>

</ui:composition>