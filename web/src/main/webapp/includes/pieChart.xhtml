<ui:composition 
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:f="http://java.sun.com/jsf/core"
  	xmlns:iwi="http://pro.tiwi.com/jsf"
	xmlns:h="http://java.sun.com/jsf/html">
	
	
			<div class="">
				<div class="panel_nw">
					<div class="panel_title">
					
						<span class="overall">#{title}</span>

							<ui:include src="/includes/dateLinks.xhtml">
								<ui:param name="ajaxForm" value="pieForm"/>
								<ui:param name="reRenderList" value="#{reRenderList}"/>			
								<ui:param name="thirtyDaysOn" value="#{thirtyDaysOn}"/>
								<ui:param name="threeMonthsOn" value="#{threeMonthsOn}"/>
								<ui:param name="sixMonthsOn" value="#{sixMonthsOn}"/>
								<ui:param name="twelveMonthsOn" value="#{twelveMonthsOn}"/>
        	    				<ui:param name="duration" value="#{duration}" />
                   				<ui:param name="context" value="#{context}-pieChart"/> 
							</ui:include>								
						
					</div>
				</div>

					<div class="panel_w">
					  <div class="panel_content">
					  
						<table width="455" border="0" cellspacing="0" cellpadding="0">
							<tr>
								<td width="74" valign="top" align="center"><img src="#{facesContext.externalContext.request.contextPath}/images/legend_pie1to5.png" width="54" height="137" style="margin-top: 10px;" /></td>
								<td width="381" valign="top">
									<!-- Start pie chart -->
					  				<rich:panel id="piepanel" style="#{pieheight};#{piewidth}">
					  					<h:inputHidden value="#{pieDef}" id="#{context}-hiddenField2"/>
	<ui:param name="errorMessageListPC" value="?PBarLoadingText=#{messages.chartPBarLoading}&amp;XMLLoadingText=#{messages.chartXMLLoading}&amp;ParsingDataText=#{messages.chartParsingData}&amp;ChartNoDataText=#{messages.chartChartNoData}&amp;RenderingChartText=#{messages.chartRenderingChart}&amp;LoadDataErrorText=#{messages.chartLoadDataError}&amp;InvalidXMLText=#{messages.chartInvalidXML}"/>
					  													  										
										<div id="chartdiv" align="center"></div>									
										<script type="text/javascript">
											var targetElement1 = document.getElementById("#{context}-hiddenField2");
							
											var chart2 = new FusionCharts("#{facesContext.externalContext.request.contextPath}/fusioncharts/Pie2D.swf#{errorMessageListPC}", "ChartId", "#{piewidth}", "#{pieheight}", "0", "0");										
											chart2.setDataXML(targetElement1.value);									   	   
											
											chart2.render("chartdiv");
										</script>
									</rich:panel>
								</td>
							</tr>
						</table>
						
					  </div>
					</div>
				<div class="panel_sw">
					<div class="panel_statusbar"></div>
				</div>
			</div>

	
	
	
</ui:composition>	