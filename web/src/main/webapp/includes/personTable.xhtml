<ui:composition template="adminTable.xhtml"
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:rich="http://richfaces.org/rich"
  xmlns:security="http://www.springframework.org/security/tags">

  <ui:param name="recordCount" value="#{personBean.itemCount}" />
  <ui:param name="items" value="#{personBean.filteredItems}" />
  <ui:param name="filterValue" value="#{personBean.filterValue}" />
  <ui:param name="page" value="#{personBean.page}" />
  <ui:param name="editorBean" value="#{personBean}" />

  <ui:define name="columns">
    <rich:column rendered="#{personBean.tableColumns['empid'].visible}" sortBy="#{item.empid}">
      <f:facet name="header"><h:outputText value="#{messages.personHeader_empid}" /></f:facet>
      <h:outputText value="#{item.empid}" />
    </rich:column>
    <rich:column rendered="#{personBean.tableColumns['fullName'].visible}" sortBy="#{item.first}" sortOrder="ASCENDING">
      <f:facet name="header"><h:outputText value="#{messages.personHeader_fullName}" /></f:facet>
      <h:commandLink action="#{personBean.display}">
        <f:param name="displayID" value="#{item.id}" />
        <h:outputText value="#{item.first}" /><h:outputText value=" " /><h:outputText value="#{item.last}" />
      </h:commandLink>
    </rich:column>
    <rich:column rendered="#{personBean.tableColumns['user_status'].visible}" sortBy="#{item.user.status.description}">
      <f:facet name="header"><h:outputText value="#{messages.personHeader_user_status}" /></f:facet>
      <h:outputText value="#{item.user.status.description}" />
    </rich:column>
    <rich:column rendered="#{personBean.tableColumns['user_username'].visible}" sortBy="#{item.user.username}">
      <f:facet name="header"><h:outputText value="#{messages.personHeader_user_username}" /></f:facet>
      <h:outputText value="#{item.user.username}" />
    </rich:column>
    <rich:column rendered="#{personBean.tableColumns['user_role'].visible}" sortBy="#{item.user.role}">
      <f:facet name="header"><h:outputText value="#{messages.personHeader_user_role}" /></f:facet>
      <h:outputText value="#{item.user.role}" />
    </rich:column>
    <rich:column rendered="#{personBean.tableColumns['workPhone'].visible}" sortBy="#{item.workPhone}">
      <f:facet name="header"><h:outputText value="#{messages.personHeader_workPhone}" /></f:facet>
      <h:outputText value="#{item.workPhone}" />
    </rich:column>
    <rich:column rendered="#{personBean.tableColumns['homePhone'].visible}" sortBy="#{item.homePhone}">
      <f:facet name="header"><h:outputText value="#{messages.personHeader_homePhone}" /></f:facet>
      <h:outputText value="#{item.homePhone}" />
    </rich:column>
    <rich:column rendered="#{personBean.tableColumns['email'].visible}" sortBy="#{item.email}">
      <f:facet name="header"><h:outputText value="#{messages.personHeader_email}" /></f:facet>
      <a href="mailto:#{item.email}"><h:outputText value="#{item.email}" /></a>
    </rich:column>
    <rich:column rendered="#{personBean.tableColumns['timeZone'].visible}" sortBy="#{item.timeZone.displayName}">
      <f:facet name="header"><h:outputText value="#{messages.personHeader_timeZone}" /></f:facet>
      <h:outputText value="#{item.timeZone.displayName}" />
    </rich:column>
    <rich:column rendered="#{personBean.tableColumns['group'].visible}" sortBy="#{item.group.name}">
      <f:facet name="header"><h:outputText value="#{messages.personHeader_group}" /></f:facet>
      <h:outputText value="#{item.group.name}" />
    </rich:column>
    <rich:column rendered="#{personBean.tableColumns['reportsTo'].visible}" sortBy="#{item.reportsToPerson.first}">
      <f:facet name="header"><h:outputText value="#{messages.personHeader_reportsTo}" /></f:facet>
      <h:outputText value="#{item.reportsToPerson.first}" /><h:outputText value=" " /><h:outputText value="#{item.reportsToPerson.last}" />
    </rich:column>
    <rich:column rendered="#{personBean.tableColumns['title'].visible}" sortBy="#{item.title}">
      <f:facet name="header"><h:outputText value="#{messages.personHeader_title}" /></f:facet>
      <h:outputText value="#{item.title}" />
    </rich:column>
    <rich:column rendered="#{personBean.tableColumns['costPerHour'].visible}" sortBy="#{item.costPerHour}">
      <f:facet name="header"><h:outputText value="#{messages.personHeader_costPerHour}" /></f:facet>
      <h:outputText value="#{item.costPerHour / 100}"><f:convertNumber type="currency" currencySymbol="$" /></h:outputText>
    </rich:column>
    <rich:column rendered="#{personBean.tableColumns['dob'].visible}" sortBy="#{item.dob}">
      <f:facet name="header"><h:outputText value="#{messages.personHeader_dob}" /></f:facet>
      <h:outputText value="#{item.dob}">
        <f:convertDateTime dateStyle="long" />
      </h:outputText>
    </rich:column>
    <rich:column rendered="#{personBean.tableColumns['gender'].visible}" sortBy="#{item.gender}">
      <f:facet name="header"><h:outputText value="#{messages.personHeader_gender}" /></f:facet>
      <h:outputText value="#{item.gender}" />
    </rich:column>
    <rich:column rendered="#{personBean.tableColumns['height'].visible}" sortBy="#{item.height}">
      <f:facet name="header"><h:outputText value="#{messages.personHeader_height}" /></f:facet>
      <h:outputText value="#{(item.height - (item.height % 12)) / 12}"><f:convertNumber integerOnly="true" /></h:outputText><h:outputText value="' " /><h:outputText value="#{item.height % 12}" /><h:outputText value="&quot;" />
    </rich:column>
    <rich:column rendered="#{personBean.tableColumns['weight'].visible}" sortBy="#{item.weight}">
      <f:facet name="header"><h:outputText value="#{messages.personHeader_weight}" /></f:facet>
      <h:outputText value="#{item.weight}" />
    </rich:column>
    <rich:column rendered="#{personBean.tableColumns['address_addr1'].visible}" sortBy="#{item.address.addr1}">
      <f:facet name="header"><h:outputText value="#{messages.personHeader_address_addr1}" /></f:facet>
      <h:outputText value="#{item.address.addr1}" />
    </rich:column>
    <rich:column rendered="#{personBean.tableColumns['address_addr2'].visible}" sortBy="#{item.address.addr2}">
      <f:facet name="header"><h:outputText value="#{messages.personHeader_address_addr2}" /></f:facet>
      <h:outputText value="#{item.address.addr2}" />
    </rich:column>
    <rich:column rendered="#{personBean.tableColumns['address_city'].visible}" sortBy="#{item.address.city}">
      <f:facet name="header"><h:outputText value="#{messages.personHeader_address_city}" /></f:facet>
      <h:outputText value="#{item.address.city}" />
    </rich:column>
    <rich:column rendered="#{personBean.tableColumns['address_state'].visible}" sortBy="#{item.address.state}">
      <f:facet name="header"><h:outputText value="#{messages.personHeader_address_state}" /></f:facet>
      <h:outputText value="#{item.address.state.name}" />
    </rich:column>
    <rich:column rendered="#{personBean.tableColumns['address_zip'].visible}" sortBy="#{item.address.zip}">
      <f:facet name="header"><h:outputText value="#{messages.personHeader_address_zip}" /></f:facet>
      <h:outputText value="#{item.address.zip}" />
    </rich:column>
    <rich:column rendered="#{personBean.tableColumns['driver_status'].visible}" sortBy="#{item.driver.status.description}">
      <f:facet name="header"><h:outputText value="#{messages.personHeader_driver_status}" /></f:facet>
      <h:outputText value="#{item.driver.status.description}" />
    </rich:column>
    <rich:column rendered="#{personBean.tableColumns['driver_license'].visible}" sortBy="#{item.driver.license}">
      <f:facet name="header"><h:outputText value="#{messages.personHeader_driver_license}" /></f:facet>
      <h:outputText value="#{item.driver.license}" />
    </rich:column>
    <rich:column rendered="#{personBean.tableColumns['driver_licenseClass'].visible}" sortBy="#{item.driver.licenseClass}">
      <f:facet name="header"><h:outputText value="#{messages.personHeader_driver_licenseClass}" /></f:facet>
      <h:outputText value="#{item.driver.licenseClass}" />
    </rich:column>
    <rich:column rendered="#{personBean.tableColumns['driver_state'].visible}" sortBy="#{item.driver.state}">
      <f:facet name="header"><h:outputText value="#{messages.personHeader_driver_state}" /></f:facet>
      <h:outputText value="#{item.driver.state.name}" />
    </rich:column>
    <rich:column rendered="#{personBean.tableColumns['driver_expiration'].visible}" sortBy="#{item.driver.expiration}">
      <f:facet name="header"><h:outputText value="#{messages.personHeader_driver_expiration}" /></f:facet>
      <h:outputText value="#{item.driver.expiration}">
        <f:convertDateTime dateStyle="long" />
      </h:outputText>
    </rich:column>
    <rich:column rendered="#{personBean.tableColumns['driver_RFID'].visible}" sortBy="#{item.driver.RFID}">
      <f:facet name="header"><h:outputText value="#{messages.personHeader_driver_RFID}" /></f:facet>
      <h:outputText value="#{item.driver.RFID}" />
    </rich:column>
  </ui:define>

</ui:composition>