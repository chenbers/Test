<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:c="http://java.sun.com/jstl/core"
    xmlns:a4j="http://richfaces.org/a4j"
    xmlns:rich="http://richfaces.org/rich">
	
  <!-- 
  	Params:
  		editBean: backing bean reference.
  		fieldName: field name on backing bean.
  		label: text for label.
  		reRender: list of id's of components to reRender
  		required: is field required.
  		for: id of input
  		iconSrc: path to an icon to display next to this field (optional)
  		enableCheckbox: if in batch edit mode, disables the checkbox (optional)
   -->
  <ui:composition>
	 <h:selectBooleanCheckbox 
	 		rendered="#{editBean.batchEdit}" 
	 		id="update_#{for}" 
	 		value="#{editBean.updateField[fieldName]}"
	 		disabled="#{enableCheckbox}">
	 </h:selectBooleanCheckbox>
	 <h:graphicImage rendered="#{!personBean.batchEdit and iconSrc ne null}" value="#{iconSrc}" width="16" height="16" style="valign:middle" />
     <h:outputText value=" #{label}" />
	 <h:outputText 
	 		id="update_#{for}_required_flag" 
	 		rendered="#{required eq 'TRUE'}" 
	 		style="display: #{(not editBean.batchEdit) or editBean.updateField[fieldName] ? 'inline' : 'none'}" 
	 		styleClass="required" value=" *" />
  </ui:composition>
</html>