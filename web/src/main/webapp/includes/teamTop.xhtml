<ui:composition 
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:f="http://java.sun.com/jsf/core"
  	xmlns:iwi="http://pro.tiwi.com/jsf"
	xmlns:h="http://java.sun.com/jsf/html">
	<div class="">
		
		<div class="panel_nw">
			<div class="panel_title">
				<span class="top5">#{messages.teamTop_top}</span>
				<span class="panel_links">
					<a href="#{facesContext.externalContext.request.contextPath}/secured/reports/drivers.faces?searchFor=#{teamTopBean.teamName}">#{messages.team_recentEventsShowAll}</a>
				</span>	
			</div>
		</div>
		<div class="panel_w">
		  <div class="panel_content">
		<div class="datagrid"><!-- Start Top Drivers table --> 
		<h:form
		id="teamTopTable">
		<rich:dataTable value="#{topScores}" id="items"
			var="item" styleClass="datagrid"
			rowClasses="trendTableOdd,trendTableEven" cellspacing="1" rows="5"
			width="100%" binding="#{teamTopDriversTable}">

			<!-- Data -->
					<rich:column sortBy="#{item.position}" width="5%" height="27" >
						<f:facet name="header">
							<h:outputText value="#" />
						</f:facet>
						<h:outputText value="#{item.position}"/>
					</rich:column>
					<rich:column width="40%" sortBy="#{item.driverName}" >
						<f:facet name="header">
							<h:outputText value="#{messages.teamTop_driver}" />
						</f:facet>
						<a4j:htmlCommandLink action="go_driver" value="#{item.driverName}">
							<f:setPropertyActionListener value="#{item.driverScore.driver}" target="#{teamTopBean.navigation.driver}" />
						</a4j:htmlCommandLink>
					</rich:column>
					<rich:column width="10%" sortBy="#{item.driverScore.score}" >
						<f:facet name="header">
							<h:outputText value="#{messages.teamTop_score}" />
						</f:facet>
						<iwi:scoreBox style="#{item.style}" score="#{item.driverScore.score}"/>
					</rich:column>
					<rich:column width="30%" sortBy="#{item.vehicleID}" >
						<f:facet name="header">
							<h:outputText value="#{messages.teamTop_vehicle}" />
						</f:facet>
						<a4j:htmlCommandLink action="go_vehicle" value="#{item.vehicleID}">
 							<f:setPropertyActionListener value="#{item.driverScore.vehicle}" target="#{navigationBean.vehicle}" />
						</a4j:htmlCommandLink>
					</rich:column>
					<rich:column width="15%" sortBy="#{item.driverScore.milesDriven}" >
						<f:facet name="header">
							<h:outputText value="#{messages.teamTop_miles}" />
						</f:facet>
						<h:outputText value="#{item.driverScore.milesDriven}"/>
					</rich:column>

					</rich:dataTable>

				</h:form> <!-- End Top Drivers table -->
			</div>
			</div>
				<div class="panel_sw">
					<div class="panel_statusbar"></div>
				</div>
			</div>

		<div class="spacer"></div>
	
		<div class="panel_nw">

			<div class="panel_title">
				<span class="thumbsdown">#{messages.teamTop_bottom}</span>
				<span class="panel_links">
					<a href="#{facesContext.externalContext.request.contextPath}/secured/reports/drivers.faces?searchFor=#{teamTopBean.teamName}">#{messages.team_recentEventsShowAll}</a>
				</span>
			</div>
		</div>
		
		<div class="panel_w">
		  <div class="panel_content">

		<div class="datagrid"><!-- Start Bottom Drivers table -->
 
	<h:form
		id="teamBottomTable">
		<rich:dataTable value="#{bottomScores}" id="items"
			var="item" styleClass="datagrid"
			rowClasses="trendTableOdd,trendTableEven" cellspacing="1" rows="10"
			width="100%" binding="#{teamBottomDriversTable}">

			<!-- Data -->
 					<rich:column sortBy="#{item.position}" width="5%">
						<f:facet name="header">
							<h:outputText value="#" />
						</f:facet>
						<h:outputText value="#{item.position}"/>

					</rich:column>
					<rich:column width="40%" sortBy="#{item.driverName}">
						<f:facet name="header">
							<h:outputText value="Driver" />
						</f:facet>
						<h:commandLink action="go_driver" value="#{item.driverName}">
							<f:setPropertyActionListener value="#{item.driverScore.driver}" target="#{teamTopBean.navigation.driver}" />
						</h:commandLink>

					</rich:column>
					<rich:column width="10%" sortBy="#{item.driverScore.score}">
						<f:facet name="header">
							<h:outputText value="Score" />
						</f:facet>
						<iwi:scoreBox style="#{item.style}" score="#{item.driverScore.score}"/>
												
					</rich:column>
					<rich:column width="30%" sortBy="#{item.vehicleID}" >
						<f:facet name="header">
							<h:outputText value="#{messages.teamTop_vehicle}" />
						</f:facet>
						<a4j:htmlCommandLink action="go_vehicle" value="#{item.vehicleID}">
 							<f:setPropertyActionListener value="#{item.driverScore.vehicle}" target="#{navigationBean.vehicle}" />
						</a4j:htmlCommandLink>
					</rich:column>
					<rich:column width="15%" sortBy="#{item.driverScore.milesDriven}" >
						<f:facet name="header">
							<h:outputText value="#{messages.teamTop_miles}" />
						</f:facet>
						<h:outputText value="#{item.driverScore.milesDriven}"/>
					</rich:column>

					</rich:dataTable>

				</h:form> <!-- End Bottom Drivers table -->

			</div> 
</div>
</div>
				<div class="panel_sw">
					<div class="panel_statusbar"></div>
				</div>
</div>
</ui:composition>	