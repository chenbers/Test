<ui:composition 
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:f="http://java.sun.com/jsf/core"
  	xmlns:iwi="http://pro.tiwi.com/jsf"
	xmlns:h="http://java.sun.com/jsf/html">

	<div class="">

		<div class="panel_nw">
			<div class="panel_title">
				<span class="line">Trend</span> 
					<ui:include src="/includes/dateLinksWithFlyOut.xhtml">
						<ui:param name="ajaxForm" value="#{ajaxForm}"/>
						<ui:param name="ajaxStatusID" value="#{ajaxStatusID}"/>
						<ui:param name="reRenderList" value="#{reRenderList}"/>			
						<ui:param name="thirtyDaysOn" value="#{thirtyDaysOn}"/>
						<ui:param name="threeMonthsOn" value="#{threeMonthsOn}"/>
						<ui:param name="sixMonthsOn" value="#{sixMonthsOn}"/>
						<ui:param name="twelveMonthsOn" value="#{twelveMonthsOn}"/>
            			<ui:param name="duration" value="#{duration}" />
            			<ui:param name="flyNavRule" value="#{flyNavRule}" />
            			<ui:param name="flyReturnNavRule" value="#{flyReturnNavRule}" /> 
            			<ui:param name="flySelectedTab" value="#{flySelectedTab}" />  
					</ui:include>	
			</div>
		
		</div>


		<div class="panel_w">

			<div class="panel_content">
				<!-- Start xy graph --> 
				<rich:panel id="xypanel" style="height:#{xyheight};width:#{xywidth}">
					<h:inputHidden value="#{lineDef}" id="hiddenField1" />

					<div id="chartdiv2" align="center"></div>
					<script type="text/javascript">
						var targetElement = document.getElementById("hiddenField1");
							
						var chart = new FusionCharts("#{facesContext.externalContext.request.contextPath}/fusioncharts/MSLine.swf", "ChartId", "445", "300", "0", "0");						   						   		
						chart.setDataXML(targetElement.value);
					   			   
						chart.render("chartdiv2");
					</script>
				</rich:panel> 
				<!-- End xy graph -->

				<div class="spacer"></div>

				<div class="datagrid">
				<!-- Start Trend table --> 
					<h:form id="trendTable">
			
						<rich:dataTable value="#{scores}" id="items"
							var="item" styleClass="datagrid"
							rowClasses="trendTableOdd,trendTableEven" cellspacing="1" rows="10"
							width="100%" binding="#{table}">

							<!-- Data -->
							<rich:column width="20">
								<f:facet name="header">
									<h:outputText value=" " />
								</f:facet>
								<rich:spacer width="17" height="17"
									style="background-color:#{item.colorKey};border-style:solid;border-width:1px;border-color:#000000"></rich:spacer>
							</rich:column>
							<rich:column sortBy="#{item.se.identifier}">
								<f:facet name="header">
									<h:outputText value="#{column_one}" />
								</f:facet>
								<h:outputLink value="#{item.goTo}">
									<h:outputText value="#{item.se.identifier}" />
								</h:outputLink>

							</rich:column>
							<rich:column width="73" sortBy="#{item.se.score}">
								<f:facet name="header">
									<h:outputText value="#{column_two}" />
								</f:facet>
								<iwi:scoreBox style="#{item.style}" score="#{item.se.score}"/>
												
							</rich:column>

						</rich:dataTable>

					</h:form> 
				<!-- End Trend table -->
				</div>

			</div>

			<div class="panel_sw">
				<div class="panel_statusbar"></div>
			</div>

		</div>
	
	</div>	
	
</ui:composition>