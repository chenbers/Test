<ui:composition 
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:f="http://java.sun.com/jsf/core"
  	xmlns:iwi="http://pro.tiwi.com/jsf"
	xmlns:h="http://java.sun.com/jsf/html">
	
<script type="text/javascript">
	function renderBar(barElement, barDiv, width, height)
	{
		var barDef = document.getElementById(barElement);
		var barChart = new FusionCharts("#{facesContext.externalContext.request.contextPath}/fusioncharts/MSCombi3D.swf", "ChartId", width, height, "0", "0");										
		barChart.setDataXML(barDef.value);									   	   
		barChart.render(barDiv);
	}
	function renderTypeBar(type, width, height)
	{
		renderBar('tab_'+type+'Def', 'tab_'+type+'Div', width, height); 
	}
</script>
		
<!-- START PANEL -->
<h:panelGroup layout="block">
	<h:panelGroup layout="block" styleClass="panel_nw">
		<h:panelGroup layout="block" styleClass="panel_title" >
			<span class="line">#{messages.team_overview}</span>
				<a4j:region rendered="#{teamOverviewBean.selectedAction.key != 'seatbelt'}" >
				<ui:include src="/includes/dateLinks.xhtml" >
					<ui:param name="ajaxForm" value="overviewDates-form"/>
					<ui:param name="ajaxStatusID" value="overviewStatus"/>
					<ui:param name="reRenderList" value="overviewDates-form,overview-content"/>			
					<ui:param name="thirtyDaysOn" value="#{teamOverviewBean.styleClass30Days}"/>
					<ui:param name="threeMonthsOn" value="#{teamOverviewBean.styleClass3Months}"/>
					<ui:param name="sixMonthsOn" value="#{teamOverviewBean.styleClass6Months}"/>
					<ui:param name="twelveMonthsOn" value="#{teamOverviewBean.styleClass12Months}"/>
					<ui:param name="duration" value="#{teamOverviewBean.duration}" />
				</ui:include>
				</a4j:region>	
		</h:panelGroup>				
	</h:panelGroup>				
	<h:panelGroup layout="block" styleClass="panel_w">
		<h:panelGroup layout="block" styleClass="panel_content">
			<h:panelGrid width="920" border="0" cellspacing="0" cellpadding="0" align="center" style="margin: 10px auto 0 auto;" >
				<h:panelGroup>
					<a4j:form id="overview-form">
					<ul class="htabs">
				      <ui:repeat value="#{teamOverviewBean.actions}" var="action" id="menu">
                    	<li class="#{(action.key == teamOverviewBean.selectedAction.key) ? action.onStyle : action.offStyle}">
				            <a4j:commandLink title="#{action.displayString}" reRender="overview-form,overview-content,duration-links">
								<h:graphicImage value="/images/x.gif" width="#{action.width}" height="27"  style="border:none"/>
				            	<f:setPropertyActionListener target="#{teamOverviewBean.selectedAction}" value="#{action}" />
				            </a4j:commandLink>	
                    	</li>
				      </ui:repeat>
 					</ul>
					</a4j:form>
				</h:panelGroup>
				
				<h:panelGroup id="overview-content">
					<ui:repeat value="#{teamOverviewBean.actions}" var="tab" id="tabs">
						<a4j:region rendered="#{teamOverviewBean.selectedAction.key == tab.key}">
							<ui:include src="/includes/teamOverviewTab.xhtml">
								<ui:param name="type" value="#{tab.key}" />
							</ui:include>
						</a4j:region>
					</ui:repeat>
				</h:panelGroup>
			</h:panelGrid>
		</h:panelGroup>
	</h:panelGroup>
	<h:panelGroup layout="block" styleClass="panel_sw">
		<h:panelGroup layout="block" styleClass="panel_statusbar"/>
	</h:panelGroup>
</h:panelGroup>
<!-- END PANEL -->
	
	
</ui:composition>