<?xml version="1.0" encoding="ISO-8859-1" ?>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>inthinc - Google Maps 3 Component Example</title>

<!--  for dropdown checklist   	-->
	<link type="text/css" href="css/jsDropdown/dropdownchecklist.css"/>

    <style type="text/css">
      html, body{ height: 100%; margin: 0; padding: 0;}
      #map-canvas { height: 100%; margin: 0; padding: 0;}
    </style>
 	<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?sensor=false"></script>

<!-- 
 	<script type="text/javascript" src="https://s3.amazonaws.com/resources.inthinc.com/jquery/jquery-1.7.2.min.js"></script>
 	<script type="text/javascript" src="https://s3.amazonaws.com/resources.inthinc.com/jquery/jquery-1.7.2.min.js"></script>
	<script type="text/javascript" src="https://s3.amazonaws.com/resources.inthinc.com/jquery/ui-1.9.1/js/jquery-ui-1.9.1.custom.min.js"></script>
 	
    <script type="text/javascript" src="../src/main/js/jsDropdown/ui.dropdownchecklist-1.4-min.js"></script>
	<script type="text/javascript" src="../src/main/js/maps3.js"></script>
 -->	
	
	<script type="text/javascript"  src="js/jquery-1.4.2.min.js"></script>
	<script type="text/javascript"> jQuery.noConflict(); </script>
<!-- 
	<script type="text/javascript" src="js/jsDropdown/jquery-ui-1.8.13.custom.min.js"></script>
    <script type="text/javascript" src="js/jsDropdown/ui.dropdownchecklist-1.4-min.js"></script>
 -->	
	<script type="text/javascript" src="js/jsDropdown/jquery-ui-1.8.4.custom.min.js"></script>
    <script type="text/javascript" src="js/jsDropdown/ui.dropdownchecklist-1.3-min.js"></script>
	<script type="text/javascript" src="js/mapv3/maps3.js" ></script>
	

	<script type="text/javascript">
		function initialize() {
			inthincMap.init({
				'canvasID': 'map-canvas',
				'zoom': 6,
				'center' : {
					'lat' : 38.5482,
					'lng' : -95.8008
				},
				'overviewMapControl' : true
			});
			
			google.maps.event.addListener(inthincMap.getMap(), "maptypeid_changed", function() {
				mapTypeId= inthincMap.getMap().getMapTypeId();
				jQuery("#mapType").html("Map Type: " + mapTypeId );
    		});
    		
			google.maps.event.addListener(inthincMap.getMap(), "layerselect", function(layerId, checked) {
				jQuery("#mapLayer").html("Map Layer: " + layerId + " checked: " + checked);
    		});

		}

		function centerMap() {
			inthincMap.center(0,0);
		}
		function zoomMap() {
			inthincMap.zoom(12);
		}
		function centerMapInBounds() {
			inthincMap.centerInBounds();
		}
		function lookupAddress() {
			  var address = document.getElementById('input-address').value;
			  inthincMap.lookupAddress(address);
		}
		function addOverlays() {
			inthincMap.addWMSLayer({ 
				id: 1, 
				url : 'http://tile.openstreetmap.org/{Z}/{X}/{Y}.png', 
				displayName : 'Open Streets', 
				layerName : 'open',
				opacity : 0.5, 

			});
			inthincMap.addWMSLayer( {
				id : 2, 
				url : 'http://services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{Z}/{Y}/{X}', 
				displayName : 'Topo', 
				layerName : 'open', 
				minZoom : 5, 
				maxZoom : 16, 
				opacity : 0.5, 
				usePng : true, 
				selected : true
			});
			inthincMap.addWMSLayer( {
				id : 3, 
				url : 'http://testteen.tiwipro.com:8086/cgi-bin/mapserv?map=/var/www/mapserver/sbs/limits.map&', 
				displayName : 'Speed Limits', 
				layerName : 'limits',
				opacity : 0.5, 
			});
			
			inthincMap.addOverlaysControl('Layers');
			
		}
		function clearOverlays() {
			
			inthincMap.reinit();
			
		}
		function createMarker() {
			
			inthincMap.createMarker({
				position : inthincMap.getMap().getCenter(),
//				iconImage : "images/ico_end_trip.png"
			});
			
		}
		function clearMarkers() {
			
			inthincMap.clearMarkers();
		}

	</script>
	
</head>
<body onload="initialize()">
<div id="menu" style="background-color:#FFFFCC;height:100%;width:150px;float:left;">
	<input type="button" onclick="centerMap();" value="Center"/>
	<input type="button" onclick="zoomMap();" value="Zoom"/>
	<input type="button" onclick="centerMapInBounds();" value="Center In Bounds"/>
	<input id="input-address"/>
	<input type="button" onclick="lookupAddress();" value="Lookup Address"/>
	<input type="button" onclick="addOverlays();" value="Add Overlays"/>
	<input type="button" onclick="clearOverlays();" value="Clear Overlays"/>
	<input type="button" onclick="createMarker();" value="Create Marker"/>
	<input type="button" onclick="clearMarkers();" value="Clear Markers"/>
	<p><span id="mapType">
		Map Type: 
	</span></p>
	<p><span id="mapLayer">
		Map Layer: 
	</span></p>
	
</div>
<div id="map-canvas"/>
</body>
</html>

