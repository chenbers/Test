<ui:composition template="/layout/layout.xhtml" 
              xmlns="http://www.w3.org/1999/xhtml" 
              xmlns:ui="http://java.sun.com/jsf/facelets"
              xmlns:h="http://java.sun.com/jsf/html"
              xmlns:rich="http://richfaces.org/rich"
              xmlns:a4j="http://richfaces.org/a4j"
              xmlns:f="http://java.sun.com/jsf/core"
              xmlns:security="http://pro.tiwi.com/jsf/security">
              
	<ui:param name="reportsSelected" value="current" />
	<ui:param name="driversSelected" value="current" />
	

	<ui:define name="subnavigation">
		<ui:include src="/includes/reports/subNavigation.xhtml" />
	</ui:define>
	
	<ui:define name="content">
		<a4j:form id="outerDriverReport">
		<div id="wrapper">
			<table width="940" height="430" border="0" cellspacing="0" cellpadding="0" align="center" style="margin: 0 auto 0 auto;">
				<tr>
					<td valign="top">
						<!-- START PANEL -->
						<a4j:form id="driverSearch">	
						
						<div class="">
							<div class="panel_nw">
								<div class="panel_title">
									<span class="driver">Driver Report</span>
									<span class="panel_links"></span>
								</div>
							</div>													
							
							<div class="panel_w">
								<div class="panel_content">												
									<div class="msg">
										<p id="redflag">There are 26 red flags. (<a href="red_flags.html">view</a>) </p>
									</div>
									  		
									<ul id="grid_nav" style="margin: 0;">            							
            							<li class="l">
              								<table border="0" cellspacing="0" cellpadding="4" id="grid_nav_search_box">
                								<tr>
                  									<td>
                  										<h:outputText value="#{messages.button_search}" />
                  									</td>
                  									<td>
                    									<h:inputText id="filterTable" value="#{filterValue}" class="text" size="25" />
                  									</td>
                								</tr>
              								</table>
            							</li>
            							<li class="l">
            								<a4j:commandLink action="#{driverReportBean.search}" 
            									reRender="items,topScroller,bottomScroller">
            									<button value="submit" class="left">
            										<span class="search">
            											<h:outputText value="#{messages.button_search}" />
            										</span>
            									</button>
            								</a4j:commandLink>            								
            							</li>
            							<li class="l text">
            								<a href="#" class="ls_tab_edit_columns" 
            									onclick="Richfaces.showModalPanel('editDriverColumns');">
            									<h:outputText value="#{messages.button_editColumns}" />
            								</a>
            							</li>
            							
          							</ul>
																																	
								</div>
							</div>
							
							
   							<ui:include src="/includes/driversReport.xhtml">	
             					<ui:param name="driverData" value="#{driverReportBean.driverData}"/>
             					<ui:param name="driverColumns" value="#{driverReportBean.driverColumns}"/>
             					<ui:param name="driverTable" value="#{driverReportTable.table}"/>
    						</ui:include>
    						
							<ui:include src="/includes/editDriverColumns.xhtml">
								<ui:param name="driverColumns" value="#{driverReportBean.driverColumns}"/>	
								<ui:param name="reRender" value="dataTable" />
							</ui:include>    						
    					
    					
    						<div class="panel_sw">
								<div class="panel_statusbar"></div>
							</div>
						</div>
						</a4j:form>
						<!-- END PANEL -->					
					</td>
				</tr>
			</table>
		</div>
		</a4j:form>
	</ui:define>
	
</ui:composition>
