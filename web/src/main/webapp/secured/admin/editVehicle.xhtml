<ui:composition template="/layout/layout.xhtml" 
              xmlns="http://www.w3.org/1999/xhtml" 
              xmlns:ui="http://java.sun.com/jsf/facelets"
              xmlns:h="http://java.sun.com/jsf/html"
              xmlns:rich="http://richfaces.org/rich"
              xmlns:a4j="http://richfaces.org/a4j"
              xmlns:f="http://java.sun.com/jsf/core"
              xmlns:security="http://pro.tiwi.com/jsf/security">

  <ui:param name="adminSelected" value="current" />

  <ui:define name="content">

    <a4j:form id="overall-form">

      <table width="920" border="0" cellspacing="0" cellpadding="0" align="center" style="margin: 0 auto 0 auto;">
        <tr>
        <td valign="top" width="130">
          <ui:include src="/includes/adminSideNav.xhtml">
            <ui:param name="selectedAction" value="#{(vehiclesBean.add) ? 'go_adminAddVehicle' : 'go_adminVehicles'}" />
            <ui:param name="parentAction" value="go_adminVehicles" />
          </ui:include>
        </td>
        <td valign="top">
          <!-- START PANEL -->
            <div class="">
              <div class="panel_nw">
                <div class="panel_title">
                  <span class="admin"><h:outputText value="#{vehiclesBean.add ? messages.adminHeader_addVehicle : (vehiclesBean.batchEdit ? messages.adminHeader_editVehicles : messages.adminHeader_editVehicle)}" /></span>
                  <span class="panel_links"></span>
                </div>
              </div>
                <div class="panel_w">
                  <div class="panel_content">

                  <ul id="grid_nav" style="margin: 0;">
                    <li class="r"><h:commandLink action="#{vehiclesBean.cancelEdit}"><button value="submit" class="left"><span class="cancel"><h:outputText value="#{messages.button_cancel}" /></span></button></h:commandLink></li>
                    <li class="r"><h:commandLink action="#{vehiclesBean.save}"><button value="submit" class="left"><span class="save"><h:outputText value="#{messages.button_save}" /></span></button></h:commandLink></li>
                  </ul>

                  <div class="spacer"></div>

                  <table width="790" border="0" cellspacing="0" cellpadding="0">
                    <tr>
                    <td width="390" valign="top">

                      <div class="add_section_title"><h:outputText value="#{messages.editVehicle_vehicleInformation}" /></div>

                      <table width="370" border="0" cellspacing="2" cellpadding="4" align="center">
                        <tr>
                          <td width="100">
                            <h:selectBooleanCheckbox rendered="#{vehiclesBean.batchEdit}" id="description_year" value="#{vehiclesBean.updateField['description.year']}" />
                            <h:outputText value="#{messages.editVehicle_year}" />
                          </td>
                          <td>
                            <h:selectOneMenu value="#{vehiclesBean.editItem.description.year}" onchange="checkMultiple('description_year')">
                              <f:selectItems value="#{vehiclesBean.years}" />
                            </h:selectOneMenu>
                          </td>
                        </tr>
                        <tr>
                          <td width="100">
                            <h:selectBooleanCheckbox rendered="#{vehiclesBean.batchEdit}" id="description_make" value="#{vehiclesBean.updateField['description.make']}" />
                            <h:outputText value="#{messages.editVehicle_make}" />
                          </td>
                          <td>
                            <h:inputText value="#{vehiclesBean.editItem.description.make}" onchange="checkMultiple('description_make')" styleClass="text" size="30" />
                          </td>
                        </tr>
                        <tr>
                          <td width="100">
                            <h:selectBooleanCheckbox rendered="#{vehiclesBean.batchEdit}" id="description_model" value="#{vehiclesBean.updateField['description.model']}" />
                            <h:outputText value="#{messages.editVehicle_model}" />
                          </td>
                          <td>
                            <h:inputText value="#{vehiclesBean.editItem.description.model}" onchange="checkMultiple('description_model')" styleClass="text" size="30" />
                          </td>
                        </tr>
                        <tr>
                          <td width="100">
                            <h:selectBooleanCheckbox rendered="#{vehiclesBean.batchEdit}" id="description_color" value="#{vehiclesBean.updateField['description.color']}" />
                            <h:outputText value="#{messages.editVehicle_color}" />
                          </td>
                          <td>
                            <h:inputText value="#{vehiclesBean.editItem.description.color}" onchange="checkMultiple('description_color')" styleClass="text" size="30" />
                          </td>
                        </tr>
                        <tr>
                          <td width="100">
                            <h:selectBooleanCheckbox rendered="#{vehiclesBean.batchEdit}" id="description_description" value="#{vehiclesBean.updateField['description.description']}" />
                            <h:outputText value="#{messages.editVehicle_description}" />
                          </td>
                          <td>
                            <h:inputText value="#{vehiclesBean.editItem.description.description}" onchange="checkMultiple('description_description')" styleClass="text" size="30" />
                          </td>
                        </tr>
                        <ui:fragment rendered="#{not vehiclesBean.batchEdit}">
                        <tr>
                          <td width="100"><h:outputText value="#{messages.editVehicle_VIN}" /></td>
                          <td>
                            <h:inputText value="#{vehiclesBean.editItem.description.VIN}" onchange="checkMultiple('description_VIN')" styleClass="text" size="30" />
                          </td>
                        </tr>
                        </ui:fragment>
                        <tr>
                          <td width="100">
                            <h:selectBooleanCheckbox rendered="#{vehiclesBean.batchEdit}" id="description_weight" value="#{vehiclesBean.updateField['description.weight']}" />
                            <h:outputText value="#{messages.editVehicle_weight}" />
                          </td>
                          <td>
                            <h:inputText value="#{vehiclesBean.editItem.description.weight}" onchange="checkMultiple('description_weight')" styleClass="text" size="30" />
                          </td>
                        </tr>
                        <tr>
                          <td width="100">
                            <h:selectBooleanCheckbox rendered="#{vehiclesBean.batchEdit}" id="license_number" value="#{vehiclesBean.updateField['license.number']}" />
                            <h:outputText value="#{messages.editVehicle_licenseNumber}" />
                          </td>
                          <td>
                            <h:inputText value="#{vehiclesBean.editItem.license.number}" onchange="checkMultiple('license_number')" styleClass="text" size="30" />
                          </td>
                        </tr>
                        <tr>
                          <td width="100">
                            <h:selectBooleanCheckbox rendered="#{vehiclesBean.batchEdit}" id="license_state" value="#{vehiclesBean.updateField['license.state']}" />
                            <h:outputText value="#{messages.editVehicle_state}" />
                          </td>
                          <td>
                            <h:selectOneMenu value="#{vehiclesBean.editItem.license.state}" onchange="checkMultiple('license_state')">
                              <f:selectItem itemLabel="#{messages.editVehicle_selectState}" />
                              <f:selectItems value="#{vehiclesBean.states}" />
                            </h:selectOneMenu>
                          </td>
                        </tr>
                      </table>

                    </td>
                    <td width="10"><img src="images/x.gif" width="10" /></td>
                    <td width="390" valign="top">

                    <div class="add_section_title"><h:outputText value="#{messages.editVehicle_vehicleProfile}" /></div>

                      <table width="370" border="0" cellspacing="2" cellpadding="4" align="center">
                        <ui:fragment rendered="#{not vehiclesBean.batchEdit}">
                        <tr>
                          <td width="100"><h:outputText value="#{messages.editVehicle_vehicleIdentification}" /></td>
                          <td>
                            <h:inputText value="#{vehiclesBean.editItem.companyInfo.vehicleIdentification}" onchange="checkMultiple('companyInfo_vehicleIdentification')" styleClass="text" size="30" />
                          </td>
                        </tr>
                        </ui:fragment>
                        <tr>
                          <td width="100">
                            <h:selectBooleanCheckbox rendered="#{vehiclesBean.batchEdit}" id="companyInfo_costPerHour" value="#{vehiclesBean.updateField['companyInfo.costPerHour']}" />
                            <h:outputText value="#{messages.editVehicle_costPerHour}" />
                          </td>
                          <td>
                            <h:inputText value="#{vehiclesBean.editItem.companyInfo.costPerHour}" onchange="checkMultiple('companyInfo_costPerHour')" styleClass="text" size="30" />
                          </td>
                        </tr>
                        <ui:fragment rendered="#{not vehiclesBean.batchEdit}">
                        <tr>
                          <td width="100"><h:outputText value="#{messages.editVehicle_startOdometer}" /></td>
                          <td>
                            <h:inputText value="#{vehiclesBean.editItem.startOdometer}" onchange="checkMultiple('startOdometer')" styleClass="text" size="30" />
                          </td>
                        </tr>
                        </ui:fragment>
                        <tr>
                          <td width="100">
                            <h:selectBooleanCheckbox rendered="#{vehiclesBean.batchEdit}" id="active" value="#{vehiclesBean.updateField['active']}" />
                            <h:outputText value="#{messages.editVehicle_active}" />
                          </td>
                          <td>
                            <h:selectOneMenu value="#{vehiclesBean.editItem.active}" onchange="checkMultiple('active')">
                              <f:selectItem itemValue="true" itemLabel="#{messages.active}" />
                              <f:selectItem itemValue="false" itemLabel="#{messages.inactive}" />
                            </h:selectOneMenu>
                          </td>
                        </tr>
                      </table>

                      <div class="spacer"></div>

                      <div class="add_section_title"><h:outputText value="#{messages.editVehicle_vehicleAssignment}" /></div>

                      <table width="370" border="0" cellspacing="2" cellpadding="4" align="center">
                        <tr>
                          <td width="100">
                            <h:selectBooleanCheckbox rendered="#{vehiclesBean.batchEdit}" id="groupID" value="#{vehiclesBean.updateField['groupID']}" />
                            <h:outputText value="#{messages.editVehicle_groupID}" />
                          </td>
                          <td>
                            <select name="select7" class="text">
                              <option>North</option>
                              <option>East</option>
                              <option>South</option>
                              <option>West</option>
                              <option>Down Town</option>
                            </select>
                          </td>
                        </tr>
                      </table>

                    </td>
                    </tr>
                  </table>

                  <div class="spacer"></div>

                  <ul id="grid_nav" style="margin: 0;">
                    <li class="r"><h:commandLink action="#{vehiclesBean.cancelEdit}"><button value="submit" class="left"><span class="cancel"><h:outputText value="#{messages.button_cancel}" /></span></button></h:commandLink></li>
                    <li class="r"><h:commandLink action="#{vehiclesBean.save}"><button value="submit" class="left"><span class="save"><h:outputText value="#{messages.button_save}" /></span></button></h:commandLink></li>
                  </ul>

                </div>
              </div>

              <div class="panel_sw">
                <div class="panel_statusbar"></div>
              </div>

            </div>
          <!-- END PANEL -->
          </td>

        </tr>
      </table>

    </a4j:form>

    <script type="text/javascript">
  function checkMultiple(id)
  {
    var box = document.getElementById("overall-form:" + id);
    if (box)
      box.checked = true;
  }
    </script>

  </ui:define>

</ui:composition>
