<ui:composition template="/layout/layout.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:iwi="http://pro.tiwi.com/jsf"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:t="http://myfaces.apache.org/tomahawk">

	<ui:param name="context" value="team" />
	
    <ui:define name="scripts">
       <style>
       		.section {
       			padding: 4px 8px;
       		}
			.datagrid th {			
				text-align: center;
				white-space: normal;
			}
			.datagrid > tbody > tr > td {
				text-align: center;
			}
			
			
			
		</style>
        
	    <script language="javascript" type="text/javascript">
		var selectedTab="stats";
		
        	function initMap() {
				
				if (GBrowserIsCompatible()) {					
					GUnload();
					map = new GMap2(document.getElementById("map-canvas"));						
					map.addControl(new GLargeMapControl());
					map.addControl(new GMapTypeControl());
					map.addControl(new GOverviewMapControl()); 
					map.setMapType(G_NORMAL_MAP);
					map.setCenter(new GLatLng(40.557078,-111.964102), 14);					
				}
        	}
			function bodyLoad() {
				initMap();
			}
			function bodyUnload() {
				GUnload();
			}
		</script>
    </ui:define>
    
	<ui:define name="content">
	<!-- Team Header -->
    <h:form id="team_header_form">
    	<a4j:region id="team_header_region">
    		<ul id="grid_nav">
    				<li class="l grid_icon"><h:graphicImage value="/images/ico_line.png" /></li>
    				<li class="l grid_title">#{messages.team_team}</li>
    				<li class="l divider"><h:graphicImage value="/images/grid_nav_divider.png" /></li>
    				<li class="l">
    					<ui:include src="/includes/breadcrumb.xhtml">
    						<ui:param name="groupTreeNode"
    							value="#{navigationBean.groupTreeNode}" />
                    		<ui:param name="context" value="#{context}_header"/> 
    					</ui:include>
    				</li>
    				
    				<li class="r grid_icon">
    				<h:outputLink value="#{helpBean.path}#{helpFile ne null ? helpFile : 'Home.htm'}" target="new">
    					<h:graphicImage value="/images/ico_help.png" style="border: 0px" title="#{messages.help}"/>
    				</h:outputLink></li>
    				<h:outputText rendered="#{showContextMenu eq 'true'}">
    				<li class="r grid_icon">
    					<h:panelGroup id="overview_tools_icon">
    						<h:graphicImage value="/images/ico_tools.png" style="cursor: pointer;" title="#{messages.tool_menu}"/>
    					</h:panelGroup>
    				</li>
    				</h:outputText>
    				<li class="r grid_icon">
    					<a4j:status	id="team_ajax_status">
    						<f:facet name="start">
    							 <h:graphicImage value="/images/progress2.gif"/>
    						</f:facet>
    					</a4j:status>
    				</li>
    				<li class="r divider"><img src="#{request.contextPath}/images/grid_nav_divider.png" /></li>
    			</ul>
    		
        </a4j:region>
	</h:form>	
	<div class="">
    	<div class="panel_nw">    
			<div class="panel_title">
	    		<h:graphicImage value="/images/ico_line.png" /><rich:spacer width="10"></rich:spacer>#{messages.team_what_happened} 
                <table class="panel_links" cellpadding="0" cellspacing="0"> 
                    <tr>
                        <td>

                            <h:form id="teamDurationForm" style="display: inline;">
                                <a4j:region id="linkLine">
                                    <a4j:status>
                                        <f:facet name="start">                    
                                            <h:graphicImage styleClass="ajax_status" value="/images/progress2.gif"/>
                                        </f:facet>
                                    </a4j:status> 
                                    <a4j:commandLink id="teamDurationPanelHeaderOneDay" 
                                        title="#{teamCommonBean.dayLabels['0']}" 
                                        immediate="true" 
                                        styleClass="#{teamCommonBean.durationBean.duration eq 'ONEDAY' ? 'selected_duration' : ''}" 
                                        reRender="teamStatisticsOutputPanel
                                        ,teamDurationForm:teamDurationPanelHeaderOneDay,teamDurationForm:teamDurationPanelHeaderTwoDay,teamDurationForm:teamDurationPanelHeaderThreeDay,teamDurationForm:teamDurationPanelHeaderFourDay,teamDurationForm:teamDurationPanelHeaderFiveDay,teamDurationForm:teamDurationPanelHeaderSixDay,teamDurationForm:teamDurationPanelHeaderSevenDay,teamDurationForm:teamDurationPanelHeaderDays,teamDurationForm:teamDurationPanelHeaderThreeMonths,teamDurationForm:teamDurationPanelHeaderSixMonths,teamDurationForm:teamDurationPanelHeaderTwelveMonths" 
                                        value="#{teamCommonBean.dayLabels['0']}">
                                        <a4j:actionparam name="duration" assignTo="#{teamCommonBean.durationBean.duration}" value="ONEDAY" />
                                    </a4j:commandLink>
                                    <rich:spacer width="5"/>   
                                    <a4j:commandLink id="teamDurationPanelHeaderTwoDay" 
                                        title="#{teamCommonBean.dayLabels['1']}" 
                                        immediate="true" 
                                        styleClass="#{teamCommonBean.durationBean.duration eq 'TWODAY' ? 'selected_duration' : ''}" 
                                        reRender="teamStatisticsOutputPanel,teamDurationForm:teamDurationPanelHeaderOneDay,teamDurationForm:teamDurationPanelHeaderTwoDay,teamDurationForm:teamDurationPanelHeaderThreeDay,teamDurationForm:teamDurationPanelHeaderFourDay,teamDurationForm:teamDurationPanelHeaderFiveDay,teamDurationForm:teamDurationPanelHeaderSixDay,teamDurationForm:teamDurationPanelHeaderSevenDay,teamDurationForm:teamDurationPanelHeaderDays,teamDurationForm:teamDurationPanelHeaderThreeMonths,teamDurationForm:teamDurationPanelHeaderSixMonths,teamDurationForm:teamDurationPanelHeaderTwelveMonths" 
                                        value="#{teamCommonBean.dayLabels['1']}">
                                        <a4j:actionparam name="duration" assignTo="#{teamCommonBean.durationBean.duration}" value="TWODAY" />
                                    </a4j:commandLink>
                                    <rich:spacer width="5"/>    
                                    <a4j:commandLink id="teamDurationPanelHeaderThreeeDay" 
                                        title="#{teamCommonBean.dayLabels['2']}" 
                                        immediate="true" 
                                        styleClass="#{teamCommonBean.durationBean.duration eq 'THREEDAY' ? 'selected_duration' : ''}" 
                                        reRender="teamStatisticsOutputPanel,teamDurationForm:teamDurationPanelHeaderOneDay,teamDurationForm:teamDurationPanelHeaderTwoDay,teamDurationForm:teamDurationPanelHeaderThreeDay,teamDurationForm:teamDurationPanelHeaderFourDay,teamDurationForm:teamDurationPanelHeaderFiveDay,teamDurationForm:teamDurationPanelHeaderSixDay,teamDurationForm:teamDurationPanelHeaderSevenDay,teamDurationForm:teamDurationPanelHeaderDays,teamDurationForm:teamDurationPanelHeaderThreeMonths,teamDurationForm:teamDurationPanelHeaderSixMonths,teamDurationForm:teamDurationPanelHeaderTwelveMonths" 
                                        value="#{teamCommonBean.dayLabels['2']}">
                                        <a4j:actionparam name="duration" assignTo="#{teamCommonBean.durationBean.duration}" value="THREEDAY" />
                                    </a4j:commandLink>
                                    <rich:spacer width="5"/>    
                                    <a4j:commandLink id="teamDurationPanelHeaderFourDay" 
                                        title="#{teamCommonBean.dayLabels['3']}" 
                                        immediate="true" 
                                        styleClass="#{teamCommonBean.durationBean.duration eq 'FOURDAY' ? 'selected_duration' : ''}" 
                                        reRender="teamStatisticsOutputPanel,teamDurationForm:teamDurationPanelHeaderOneDay,teamDurationForm:teamDurationPanelHeaderTwoDay,teamDurationForm:teamDurationPanelHeaderThreeDay,teamDurationForm:teamDurationPanelHeaderFourDay,teamDurationForm:teamDurationPanelHeaderFiveDay,teamDurationForm:teamDurationPanelHeaderSixDay,teamDurationForm:teamDurationPanelHeaderSevenDay,teamDurationForm:teamDurationPanelHeaderDays,teamDurationForm:teamDurationPanelHeaderThreeMonths,teamDurationForm:teamDurationPanelHeaderSixMonths,teamDurationForm:teamDurationPanelHeaderTwelveMonths" 
                                        value="#{teamCommonBean.dayLabels['3']}">
                                        <a4j:actionparam name="duration" assignTo="#{teamCommonBean.durationBean.duration}" value="FOURDAY" />
                                    </a4j:commandLink>
                                    <rich:spacer width="5"/>    
                                    <a4j:commandLink id="teamDurationPanelHeaderFiveDay" 
                                        title="#{teamCommonBean.dayLabels['4']}" 
                                        immediate="true" 
                                        styleClass="#{teamCommonBean.durationBean.duration eq 'FIVEDAY' ? 'selected_duration' : ''}" 
                                        reRender="teamStatisticsOutputPanel,teamDurationForm:teamDurationPanelHeaderOneDay,teamDurationForm:teamDurationPanelHeaderTwoDay,teamDurationForm:teamDurationPanelHeaderThreeDay,teamDurationForm:teamDurationPanelHeaderFourDay,teamDurationForm:teamDurationPanelHeaderFiveDay,teamDurationForm:teamDurationPanelHeaderSixDay,teamDurationForm:teamDurationPanelHeaderSevenDay,teamDurationForm:teamDurationPanelHeaderDays,teamDurationForm:teamDurationPanelHeaderThreeMonths,teamDurationForm:teamDurationPanelHeaderSixMonths,teamDurationForm:teamDurationPanelHeaderTwelveMonths" 
                                        value="#{teamCommonBean.dayLabels['4']}">
                                        <a4j:actionparam name="duration" assignTo="#{teamCommonBean.durationBean.duration}" value="FIVEDAY" />
                                    </a4j:commandLink>
                                    <rich:spacer width="5"/>
                                    <a4j:commandLink id="teamDurationPanelHeaderSixDay" 
                                        title="#{teamCommonBean.dayLabels['5']}" 
                                        immediate="true" 
                                        styleClass="#{teamCommonBean.durationBean.duration eq 'SIXDAY' ? 'selected_duration' : ''}" 
                                        reRender="teamStatisticsOutputPanel,teamDurationForm:teamDurationPanelHeaderOneDay,teamDurationForm:teamDurationPanelHeaderTwoDay,teamDurationForm:teamDurationPanelHeaderThreeDay,teamDurationForm:teamDurationPanelHeaderFourDay,teamDurationForm:teamDurationPanelHeaderFiveDay,teamDurationForm:teamDurationPanelHeaderSixDay,teamDurationForm:teamDurationPanelHeaderSevenDay,teamDurationForm:teamDurationPanelHeaderDays,teamDurationForm:teamDurationPanelHeaderThreeMonths,teamDurationForm:teamDurationPanelHeaderSixMonths,teamDurationForm:teamDurationPanelHeaderTwelveMonths" 
                                        value="#{teamCommonBean.dayLabels['5']}">
                                        <a4j:actionparam name="duration" assignTo="#{teamCommonBean.durationBean.duration}" value="SIXDAY" />
                                    </a4j:commandLink>
                                    <rich:spacer width="5"/>    
                                    <a4j:commandLink id="teamDurationPanelHeaderSevenDay" 
                                        title="#{teamCommonBean.dayLabels['6']}" 
                                        immediate="true" 
                                        styleClass="#{teamCommonBean.durationBean.duration eq 'SEVENDAY' ? 'selected_duration' : ''}" 
                                        reRender="teamStatisticsOutputPanel,teamDurationForm:teamDurationPanelHeaderOneDay,teamDurationForm:teamDurationPanelHeaderTwoDay,teamDurationForm:teamDurationPanelHeaderThreeDay,teamDurationForm:teamDurationPanelHeaderFourDay,teamDurationForm:teamDurationPanelHeaderFiveDay,teamDurationForm:teamDurationPanelHeaderSixDay,teamDurationForm:teamDurationPanelHeaderSevenDay,teamDurationForm:teamDurationPanelHeaderDays,teamDurationForm:teamDurationPanelHeaderThreeMonths,teamDurationForm:teamDurationPanelHeaderSixMonths,teamDurationForm:teamDurationPanelHeaderTwelveMonths" 
                                        value="#{teamCommonBean.dayLabels['6']}">
                                        <a4j:actionparam name="duration" assignTo="#{teamCommonBean.durationBean.duration}" value="SEVENDAY" />
                                    </a4j:commandLink>
                                    <rich:spacer width="5"/>                                                                                
                                    <a4j:commandLink id="teamDurationPanelHeaderDays" 
                                        title="#{messages.duration_days}" 
                                        immediate="true" 
                                        styleClass="#{teamCommonBean.durationBean.duration eq 'DAYS' ? 'selected_duration' : ''}" 
                                        reRender="teamStatisticsOutputPanel,teamDurationForm:teamDurationPanelHeaderOneDay,teamDurationForm:teamDurationPanelHeaderTwoDay,teamDurationForm:teamDurationPanelHeaderThreeDay,teamDurationForm:teamDurationPanelHeaderFourDay,teamDurationForm:teamDurationPanelHeaderFiveDay,teamDurationForm:teamDurationPanelHeaderSixDay,teamDurationForm:teamDurationPanelHeaderSevenDay,teamDurationForm:teamDurationPanelHeaderDays,teamDurationForm:teamDurationPanelHeaderThreeMonths,teamDurationForm:teamDurationPanelHeaderSixMonths,teamDurationForm:teamDurationPanelHeaderTwelveMonths" 
                                        value="#{messages.duration_days}">
                                        <a4j:actionparam name="duration" assignTo="#{teamCommonBean.durationBean.duration}" value="DAYS" />
                                    </a4j:commandLink>
                                    <rich:spacer width="5"/>
                                    <a4j:commandLink id="teamDurationPanelHeaderThreeMonths" 
                                        title="#{messages.duration_three}" 
                                        immediate="true" 
                                        styleClass="#{teamCommonBean.durationBean.duration eq 'THREE' ? 'selected_duration' : ''}" 
                                        reRender="teamStatisticsOutputPanel,teamDurationForm:teamDurationPanelHeaderOneDay,teamDurationForm:teamDurationPanelHeaderTwoDay,teamDurationForm:teamDurationPanelHeaderThreeDay,teamDurationForm:teamDurationPanelHeaderFourDay,teamDurationForm:teamDurationPanelHeaderFiveDay,teamDurationForm:teamDurationPanelHeaderSixDay,teamDurationForm:teamDurationPanelHeaderSevenDay,teamDurationForm:teamDurationPanelHeaderDays,teamDurationForm:teamDurationPanelHeaderThreeMonths,teamDurationForm:teamDurationPanelHeaderSixMonths,teamDurationForm:teamDurationPanelHeaderTwelveMonths" 
                                        value="#{messages.duration_three}">
                                        <a4j:actionparam name="duration" assignTo="#{teamCommonBean.durationBean.duration}" value="THREE" />
                                    </a4j:commandLink> 
                                    <rich:spacer width="5"/>
                                    <a4j:commandLink id="teamDurationPanelHeaderSixMonths" 
                                        title="#{messages.duration_six}" 
                                        immediate="true" 
                                        styleClass="#{teamCommonBean.durationBean.duration eq 'SIX' ? 'selected_duration' : ''}" 
                                        reRender="teamStatisticsOutputPanel,teamDurationForm:teamDurationPanelHeaderOneDay,teamDurationForm:teamDurationPanelHeaderTwoDay,teamDurationForm:teamDurationPanelHeaderThreeDay,teamDurationForm:teamDurationPanelHeaderFourDay,teamDurationForm:teamDurationPanelHeaderFiveDay,teamDurationForm:teamDurationPanelHeaderSixDay,teamDurationForm:teamDurationPanelHeaderSevenDay,teamDurationForm:teamDurationPanelHeaderDays,teamDurationForm:teamDurationPanelHeaderThreeMonths,teamDurationForm:teamDurationPanelHeaderSixMonths,teamDurationForm:teamDurationPanelHeaderTwelveMonths" 
                                        value="#{messages.duration_six}">
                                        <a4j:actionparam name="duration" assignTo="#{teamCommonBean.durationBean.duration}" value="SIX" />
                                    </a4j:commandLink> 
                                    <rich:spacer width="5"/>
                                    <a4j:commandLink id="teamDurationPanelHeaderTwelveMonths"  
                                        title="#{messages.duration_twelve}" 
                                        immediate="true" 
                                        styleClass="#{teamCommonBean.durationBean.duration eq 'TWELVE' ? 'selected_duration' : ''}" 
                                        reRender="teamStatisticsOutputPanel,teamDurationForm:teamDurationPanelHeaderOneDay,teamDurationForm:teamDurationPanelHeaderTwoDay,teamDurationForm:teamDurationPanelHeaderThreeDay,teamDurationForm:teamDurationPanelHeaderFourDay,teamDurationForm:teamDurationPanelHeaderFiveDay,teamDurationForm:teamDurationPanelHeaderSixDay,teamDurationForm:teamDurationPanelHeaderSevenDay,teamDurationForm:teamDurationPanelHeaderDays,teamDurationForm:teamDurationPanelHeaderThreeMonths,teamDurationForm:teamDurationPanelHeaderSixMonths,teamDurationForm:teamDurationPanelHeaderTwelveMonths" 
                                        value="#{messages.duration_twelve}">
                                        <a4j:actionparam name="duration" assignTo="#{teamCommonBean.durationBean.duration}" value="TWELVE" />
                                    </a4j:commandLink> 
                                </a4j:region>
                                
                    		</h:form>
                		</td>
            		</tr>
            		
       			
            			
				</table>		  	
     	 	</div>
		</div>     	 	
	    
	        <a4j:outputPanel id="overallTeamPanel" styleClass="panel_content">    							
				<rich:tabPanel>
                	<ui:include src="/includes/teamPage/new_teamStatistics.xhtml"/>
                	<ui:include src="/includes/teamPage/new_teamTrips.xhtml"/>
				</rich:tabPanel>
    		</a4j:outputPanel>	     	    
	    	    

    	<div class="panel_sw">
    		<div class="panel_statusbar"></div>
    	</div>	
	</div>

	</ui:define>

</ui:composition>