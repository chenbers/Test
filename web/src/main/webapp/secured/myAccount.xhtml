<ui:composition template="/layout/layout.xhtml" 
				xmlns="http://www.w3.org/1999/xhtml" 
				xmlns:ui="http://java.sun.com/jsf/facelets"
  				xmlns:h="http://java.sun.com/jsf/html" 
  				xmlns:rich="http://richfaces.org/rich"
  				xmlns:a4j="http://richfaces.org/a4j"
  				xmlns:iwi="http://pro.tiwi.com/jsf"
  				xmlns:f="http://java.sun.com/jsf/core"
                xmlns:c="http://java.sun.com/jstl/core"
                xmlns:pretty="http://ocpsoft.com/prettyfaces">
  <ui:param name="title" value="#{messages.navigation_myAccount}"/>
  <ui:define name="content">
  
  
 
 
  <ul id="grid_nav">
    <li class="r">
        <button id="myAccountpassword" type="submit" class="left" onclick="Richfaces.showModalPanel('changePasswordPanel');return false;"><h:outputText styleClass="login" value="#{messages.myAccount_change_password}" /></button>
        
        <pretty:urlbuffer var="editMyAccountLink" mappingId="editMyAccount"/>
        <button id="myAccountEdit" type="button" class="left" onclick="location.href = '#{requestScope.editMyAccountLink}';"><h:outputText styleClass="edit" value="#{messages.myAccount_edit}"/></button>
    </li>
  </ul>
  
  
  <table class="dash_table" width="940" align="center" border="0" cellpadding="0" cellspacing="0">
    <tbody>
      <tr>
        <td colspan="3" valign="top">
      
          <!-- START PANEL -->
          <div class="">
            <div class="panel_nw">
              <div class="panel_title">
                <span class="account"><h:outputText value="#{messages.header_myAccount}" /></span>
                <span class="panel_links"> </span>
              </div>
            </div>
            <div class="panel_w">
              <div class="panel_content">

                <rich:messages globalOnly="true" errorClass="error" fatalClass="error" warnClass="warning" infoClass="info" styleClass="msg" />

                <table width="930" border="0" cellpadding="0" cellspacing="0">
                  <tbody>
                    <tr>
                      <td width="460" style="vertical-align: top">
                        <div class="add_section_title"><h:outputText value="#{messages.myAccount_accountInformation}" /></div>
                          <table width="100%" border="0" cellpadding="4" cellspacing="0">
                            <tbody>
                              <tr>
                                <td width="100"><h:outputText value="#{messages.myAccount_name}" /></td>
                                <td id="myAccountFullName"><h:outputText value="#{myAccountBean.user.person.fullName}"/></td>
                              </tr>
                              <tr>
                                <td width="100"><h:outputText value="#{messages.myAccount_region}" /></td>
                                <td id="myAccountRegionName"><h:outputText value="#{myAccountBean.regionName}"/></td>
                              </tr>
                              <tr>
                                <td width="100"><h:outputText value="#{messages.myAccount_team}" /></td>
                                <td id="myAccountTeamName"><h:outputText value="#{myAccountBean.teamName}"/></td>
                              </tr>
                          </tbody>
                        </table>
      
                      </td>
      
                      
                      <td width="10"><h:graphicImage value="/images/x.gif" width="10"/></td>
                      
                      <td valign="top" width="460" style="vertical-align: top">
                        <div class="add_section_title"><h:outputText value="#{messages.myAccount_loginInformation}" /></div>
                        <table width="100%" border="0" cellpadding="4" cellspacing="0">
                          <tbody>
                            <tr>
                              <td width="150"><h:outputText value="#{messages.myAccount_userName}" /></td>
                              <td id="myAccountUsername"><h:outputText value="#{myAccountBean.user.username}"/></td>
                            </tr>
                            <tr>
                              <td width="150"><h:outputText value="#{messages.myAccount_locale}:" /></td>
                              <td id="myAccountLocale"><h:outputText value="#{myAccountBean.localeDisplayName}"/></td>
                            </tr>
                            <tr>
                              <td width="150"><h:outputText value="#{messages.myAccount_measurement}:" /></td>
                              <td id="myAccountMeasurementType"><h:outputText value="#{messages[measurementBean.person.measurementType]}"/></td>
                            </tr>
                            <tr>
                              <td width="150"><h:outputText value="#{messages.myAccount_fuel_efficiency}:" /></td>
                              <td id="myAccountFuelEfficiency"><h:outputText value="#{messages[fuelEfficiencyBean.person.fuelEfficiencyType]}"/></td>
                            </tr>
                          </tbody>
                        </table>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            <div class="panel_sw">
              <div class="panel_statusbar"></div>
    
            </div>
          </div>
      <!-- END PANEL -->
      
        </td>
      </tr>
      <tr>
        <td colspan="3" style="height:10px"> </td>
      </tr>
      <tr>
        <td valign="top" width="465">
        
          <!-- START PANEL -->
          <div class="">
            <div class="panel_nw">
              <div class="panel_title">
                <span class="notify"><h:outputText value="#{messages.myAccount_notifications}" /></span>
              </div>
            </div>
            <div class="panel_w">
              <div class="panel_content">
                <table width="100%" border="0" cellpadding="4" cellspacing="0">
                  <tbody>
                    <tr>
                      <td width="16"><h:graphicImage value="/images/ico_info.png" width="16" height="16" /></td>
                      <td width="90"><h:outputText value="#{messages.myAccount_information}" /></td>
                      <c:set var="alertText" value="myAccount_alertText#{myAccountBean.info}" />
                      <td id="myAccountInfo"><h:outputText value="#{messages[alertText]}" /></td>
                    </tr>
                    <tr>
                      <td width="16"><h:graphicImage value="/images/ico_warning.png" width="16" height="16"/></td>
                      <td width="90"><h:outputText value="#{messages.myAccount_warning}" /></td>
                      <c:set var="alertText" value="myAccount_alertText#{myAccountBean.warn}" />
                      <td id="myAccountWarn"><h:outputText value="#{messages[alertText]}" /></td>
                    </tr>
                    <tr>
                      <td width="16"><h:graphicImage value="/images/ico_critical.png" width="16" height="16"/></td>
                      <td width="90"><h:outputText value="#{messages.myAccount_critical}" /></td>
                      <c:set var="alertText" value="myAccount_alertText#{myAccountBean.crit}" />
                      <td id="myAccountCrit"><h:outputText value="#{messages[alertText]}" /></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
      
            <div class="panel_sw">
              <div class="panel_statusbar"></div>
            </div>
          </div>
          <!-- END PANEL -->
        </td>
      
        <td width="10"><h:graphicImage value="/images/x.gif" width="10"/></td>
      
        <td valign="top" width="465">
        
        <!-- START PANEL -->
          <div class="">
            <div class="panel_nw">
              <div class="panel_title">
                <span class="contact"><h:outputText value="#{messages.myAccount_contactInformation}" /></span>
              </div>
            </div>
            <div class="panel_w">
              <div class="panel_content">
                <div class="add_section_title"><h:outputText value="#{messages.myAccount_email}" /></div>
                  <table width="100%" border="0" cellpadding="4" cellspacing="0">
                    <tbody>
                      <tr>
                        <td width="120"><h:outputText value="#{messages.myAccount_priEmail}" /></td>
                        <td id="myAccountPriEmail"><h:outputText value="#{myAccountBean.user.person.priEmail}" /></td>
                      </tr>
                      <tr>
                        <td width="120"><h:outputText value="#{messages.myAccount_secEmail}" /></td>
                        <td id="myAccountSecEmail"><h:outputText value="#{myAccountBean.user.person.secEmail}"/></td>
                      </tr>
                    </tbody>
                  </table>

                  <div class="add_section_title"><h:outputText value="#{messages.myAccount_phone}" /></div>
                  <table width="100%" border="0" cellpadding="4" cellspacing="0">
                    <tbody>
                      <tr>
                        <td width="120"><h:outputText value="#{messages.myAccount_priPhone}" /></td>
                        <td id="myAccountPriPhone"><h:outputText value="#{myAccountBean.user.person.priPhone}" converter="PhoneNumberConverter" /></td>
                      </tr>
                      <tr>
                        <td width="120"><h:outputText value="#{messages.myAccount_secPhone}" /></td>
                        <td id="myAccountSecPhone"><h:outputText value="#{myAccountBean.user.person.secPhone}" converter="PhoneNumberConverter" /></td>
                      </tr>
                    </tbody>
                  </table>

                  <div class="add_section_title"><h:outputText value="#{messages.myAccount_textMessages}" /></div>
                  <table width="100%" border="0" cellpadding="4" cellspacing="0">
                    <tbody>
                      <tr>
                        <td width="120"><h:outputText value="#{messages.myAccount_priText}" /></td>
                        <td id="myAccountPriText"><h:outputText value="#{myAccountBean.user.person.priText}"/></td>
                      </tr>
                      <tr>
                        <td width="120"><h:outputText value="#{messages.myAccount_secText}" /></td>
                        <td id="myAccountSecText"><h:outputText value="#{myAccountBean.user.person.secText}"/></td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
              <div class="panel_sw">
                <div class="panel_statusbar"></div>
              </div>
            </div>
            <!-- END PANEL -->
          </td>
        
        </tr>
      </tbody>
    </table>
  </ui:define>

</ui:composition>
