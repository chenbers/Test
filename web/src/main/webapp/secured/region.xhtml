<ui:composition template="/layout/layout.xhtml" 
			xmlns="http://www.w3.org/1999/xhtml" 
			xmlns:ui="http://java.sun.com/jsf/facelets"
  			xmlns:h="http://java.sun.com/jsf/html" 
  			xmlns:rich="http://richfaces.org/rich"
  			xmlns:a4j="http://richfaces.org/a4j"
  			xmlns:iwi="http://pro.tiwi.com/jsf"
  			xmlns:f="http://java.sun.com/jsf/core">
  			
	<ui:define name="scripts">
		<script src="/tiwipro/js/FusionCharts.js" type="text/javascript"></script>	
		<script src="http://maps.google.com/maps?file=api&amp;v=2&amp;key=ABQIAAAAyQYKk4__l80DyIsqLPvvuxTRFLl8Tcq3arEgFHYFeOMvEMiJ8RQehhrYXPIDrf1muScWAd1MXrlVkQ" type="text/javascript"></script>			
	</ui:define>  			

	<ui:param name="reportsSelected" value="current" />

	<ui:define name="subnavigation">
		<ui:include src="/includes/reports/subNavigation.xhtml" />
	</ui:define>

	<ui:define name="content">
	
	
		<ul id="grid_nav">
			<li class="l grid_icon"><img src="images/ico_line.png" /></li>
			<li class="l grid_title">Overview</li>
			<li class="l divider"><img src="/images/grid_nav_divider.png" /></li>
			<li class="l"></li>
			<li class="r grid_icon"><img src="images/ico_help.png" /></li>
			<li class="r divider"><img src="/images/grid_nav_divider.png" /></li>
		</ul>

		<table width="940" border="0" cellspacing="0" cellpadding="0" align="center" class="dash_table">

  			<tr>
    			<td width="465" valign="top">
		<!-- START OVERALL SCORE PANEL -->
					<div class="">
						<div class="panel_nw">
							<div class="panel_title">
								<span class="overall">Overall Score</span>
								<span class="panel_links">
								<a4j:form id="overall-form">        
  										<a4j:commandLink title="#{messages.duration_days}" immediate="true"
            								styleClass="#{(fleetOverviewBean.duration eq 'DAYS') ? 'on' : ''}"
            								reRender="overall-form,overallPanel"
            								value="#{messages.duration_days}">
            								<a4j:actionparam name="duration" assignTo="#{fleetOverviewBean.duration}" value="DAYS" />
          								</a4j:commandLink><h:outputText value=" "></h:outputText>
          								<a4j:commandLink title="#{messages.duration_three}" immediate="true"
            								styleClass="#{(fleetOverviewBean.duration eq 'THREE') ? 'on' : ''}"
            								reRender="overall-form,overallPanel"            								
            								value="#{messages.duration_three}">
            								<a4j:actionparam name="duration" assignTo="#{fleetOverviewBean.duration}" value="THREE" />
          								</a4j:commandLink><h:outputText value=" "></h:outputText>
          								<a4j:commandLink title="#{messages.duration_six}" immediate="true"
            								styleClass="#{(fleetOverviewBean.duration eq 'SIX') ? 'on' : ''}"
            								reRender="overall-form,overallPanel"
            								value="#{messages.duration_six}">
            								<a4j:actionparam name="duration" assignTo="#{fleetOverviewBean.duration}" value="SIX" />
          								</a4j:commandLink><h:outputText value=" "></h:outputText>
          								<a4j:commandLink title="#{messages.duration_twelve}" immediate="true"
            								styleClass="#{(fleetOverviewBean.duration eq 'TWELVE') ? 'on' : ''}"
            								reRender="overall-form,overallPanel"
            								value="#{messages.duration_twelve}">
            								<a4j:actionparam name="duration" assignTo="#{fleetOverviewBean.duration}" value="TWELVE" />
          								</a4j:commandLink>    
      								</a4j:form>
								</span>
							</div>
						</div>
						<div class="panel_w">
					  		<rich:panel bodyClass="panel_content" id="overallPanel" border="0">
					  			 <br />
					  			 <iwi:scoreBox style="#{fleetOverviewBean.overallScoreStyle}" score="#{fleetOverviewBean.overallScore}"/> 
					  		</rich:panel>
						</div>
						<div class="panel_sw">
							<div class="panel_statusbar"></div>
						</div>
					</div>
		<!-- END PANEL -->
		
					<div class="spacer"></div>
		
		<!-- START SCORE BREAKDOWN PANEL -->
		<!-- leave reRenderList alone -->
					<ui:include src="/includes/pieChart.xhtml">	
						<ui:param name="reRenderList" value="pieForm,piepanel,hiddenField2"/>
						<ui:param name="title" value="Score Breakdown"/>		
            			<ui:param name="pieheight" value="300"/>
            			<ui:param name="piewidth" value="381"/>
            			<ui:param name="pieDef" value="#{breakdownBean.pieDef}"/>  
            			<ui:param name="duration" value="#{breakdownBean.duration}" /> 
            			<ui:param name="thirtyDaysOn" value="#{breakdownBean.styleClass30Days}"/>
						<ui:param name="threeMonthsOn" value="#{breakdownBean.styleClass3Months}"/>
						<ui:param name="sixMonthsOn" value="#{breakdownBean.styleClass6Months}"/>
						<ui:param name="twelveMonthsOn" value="#{breakdownBean.styleClass12Months}"/>         
					</ui:include>
		<!-- END PANEL -->
		
				<div class="spacer"></div>		
		<!-- START TREND PANEL -->		
		<!-- leave reRenderList alone -->												
					<ui:include src="/includes/trendxychart.xhtml">
						<ui:param name="reRenderList" value="trendForm,hiddenField1,xypanel,items"/>
						<ui:param name="column_one" value="Region"/>
						<ui:param name="column_two" value="Score"/>
						<ui:param name="thirtyDaysOn" value="#{trendBean.styleClass30Days}"/>
						<ui:param name="threeMonthsOn" value="#{trendBean.styleClass3Months}"/>
						<ui:param name="sixMonthsOn" value="#{trendBean.styleClass6Months}"/>
						<ui:param name="twelveMonthsOn" value="#{trendBean.styleClass12Months}"/>
            			<ui:param name="duration" value="#{trendBean.duration}" />
            			<ui:param name="xyheight" value="300"/>
            			<ui:param name="xywidth" value="445"/>
            			<ui:param name="lineDef" value="#{trendBean.lineDef}"/>
            			<ui:param name="scores" value="#{trendBean.scoreableEntities}"/>
            			<ui:param name="table" value="#{trendTable.table}"/>
					</ui:include>											 
		
				<div class="panel_sw">
					<div class="panel_statusbar"></div>
				</div>
		<!-- END PANEL -->
	</td>
	
    <td width="10"><img src="images/x.gif" width="10" /></td>
	
    <td width="465" valign="top">

		<!-- START FLEET MAP PANEL -->
		<ui:include src="/includes/liveFleetMap.xhtml">
			<ui:param name="mapheight" value="height:400px"/>
			<ui:param name="mapwidth" value="width:435px"/>
			<ui:param name="mapxcenter" value="41.0"/>
			<ui:param name="mapycenter" value="-116.0"/>
		</ui:include>
		<!-- END PANEL -->
		
		<div class="spacer"></div>
		
		<!-- START ESTIMATED FUEL EFFICIENCY PANEL -->
		<!-- leave reRenderList alone -->
		<ui:include src="/includes/fuelEfficiencyChart.xhtml">	
			<ui:param name="reRenderList" value="barForm,barpanel,hiddenField3"/>
			<ui:param name="title" value="Estimated Fuel Efficiency"/>		
            <ui:param name="barheight" value="440"/>
            <ui:param name="barwidth" value="350"/>
            <ui:param name="barDef" value="#{fuelBean.barDef}"/>   
            <ui:param name="duration" value="#{fuelBean.duration}" />  
            <ui:param name="thirtyDaysOn" value="#{fuelBean.styleClass30Days}"/>
			<ui:param name="threeMonthsOn" value="#{fuelBean.styleClass3Months}"/>
			<ui:param name="sixMonthsOn" value="#{fuelBean.styleClass6Months}"/>
			<ui:param name="twelveMonthsOn" value="#{fuelBean.styleClass12Months}"/>       
		</ui:include>
		<!-- END PANEL -->
	</td>
  </tr>
</table>

</ui:define>

</ui:composition>
