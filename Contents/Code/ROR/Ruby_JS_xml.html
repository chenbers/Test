<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>Combining FusionCharts XT, ROR and  JavaScript (Data String) method </title>
<link rel="stylesheet" href="../../assets/ui/css/style.css" type="text/css" />
<script type="text/javascript" src="../../assets/prettify/prettify.js"></script>
<link rel="stylesheet" type="text/css" href="../../assets/prettify/prettify.css" />
<script type="text/javascript" src="../../assets/ui/js/jquery.min.js" ></script>
<style type="text/css">
<!--
div.WebHelpPopupMenu { position:absolute;
left:0px;
top:0px;
z-index:4;
visibility:hidden; }

a.whtbtnhide, a.whtbtnshow, a.whtbtnhidenav , a.whtbtnshownav { border-bottom:none !important; }
-->
</style>
<script type="text/javascript" language="javascript1.2" src="../../assets/ui/js/whmsg.js"></script>
<script type="text/javascript" language="javascript" src="../../assets/ui/js/whver.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../assets/ui/js/whproxy.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../assets/ui/js/whutils.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../assets/ui/js/whlang.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../assets/ui/js/whtopic.js"></script>
<script type="text/javascript" src="../../assets/ui/js/lib.js"></script>
</head>

<body>
<!-- breadcrumb starts here -->
<div id="breadcrumb"></div>
<script type="text/javascript">
	document.write( addFCBreadcrumb( [ "Home|../../Introduction/Overview.html", "Guide for web developers", "Using with Ruby on Rails|Ruby_basicexample.html", "ROR and JavaScript (Data String) method" ] ) );
</script>
<!-- breadcrumb ends here -->

<table width="98%" border="0" cellspacing="0" cellpadding="3" align="center">
  <tr> 
    <td class="pageHeader">Combining FusionCharts XT, ROR and  JavaScript (Data String) method </td>
  </tr>
  <tr> 
    <td valign="top" class="text"><p>In our previous example, we had combined FusionCharts XT, Ruby and JavaScript to create client side dynamic charts. We were updating the chart by asking it to fetch new data from server and update itself, without incurring any page refreshes. </p>
      <p>In this example, <strong>instead of asking the chart to get XML data </strong>from server, <strong>we will provide updated XML data to chart using JavaScript </strong>functions. The chart will simply accept that XML data and render. </p>
      <p class="highlightBlock">This method can effectively be used in your AJAX applications, where your JavaScript code gets the updated XML from server and then provides it to charts locally. You can process the data received from AJAX Calls, build XML from it and finally provide it to the chart. </p>
      <p><strong>Before you proceed with the contents in this page, we strictly recommend you to please go through the  <a href="../../guide-for-web-developers/how-fusioncharts-works/HowFCWorks.html">How FusionCharts XT works?</a> and <a href="Ruby_basicexample.html">Basic Examples</a> sections, as we will directly use a lot of concepts defined in those sections.</strong></p>
 <p class="highlightBlock">All code discussed here is present in 
    <span class="codeInline">
    Controller : Download Package > Code > RoR > SampleApp &gt; app > controllers &gt; fusioncharts > db_js_controller.rb</span>.  <br/>
    <span class="codeInline">View : Download Package > Code > RoR > SampleApp &gt;  app > views > fusioncharts &gt; db_js</span> folder. </p>
	</td>
	</tr>
	<tr>
 <td class="header">Defining the application</td>
 </tr>
 <tr>
    <td valign="top" class="text">
     <p>We will carry on from our previous <span class="codeInline">&quot;Ruby, JavaScript and Data URL</span>&quot; example and convert it to use JavaScript + XML, so that the new XML is provided to the chart using JavaScript functions - the charts do not directly request data from server anymore. To attain this, we send all the pertinent data from our server to the end viewer as JavaScript arrays in the same page. The JavaScript arrays are dynamically generated by rjs template and filled with data. </p>
     <p>Effectively, we will do the following:</p>
     <ol>
       <li>Contain the pie chart (summary) and column chart (detailed) in one page  (<span class="codeInline">default</span>).</li>
       <li>Configure the pie chart to use the <span class="codeInline">Data String </span> method to show summary of all factories when  the page loads.   This data will be built in <span class="codeInline">default</span> itself. </li>
       <li>Build a JavaScript array. This array will be named as <span class="codeInline">data</span> in this page and will contain the detailed data for factories. This array will be outputted as JavaScript code. The array will be dynamically built by the controller and then&nbsp;outputted as JavaScript code. </li>
       <li>Use a local JavaScript function, <span class="codeInline">updateChart()</span>, to process the data in this array and convert it to XML data document for direct usage by the column chart.</li>
       <li>Customize the &quot;<span class="codeInline">No data to display</span>&quot; message of the chart to show a friendly message. This message is required because the column chart will initialize with no data, as, no factory is selected by the user when the chart is initially rendered.</li>
       <li>Define the JavaScript links for each pie slice. These JavaScript links refer to the <span class="codeInline">updateChart()</span> JavaScript function present on the same page. We will later see how to manually code this function. When a pie slice is clicked, the <span class="codeInline">factory ID</span> is passed to this function.</li>
       <li>Generate   the XML 
	    data from the data stored in JavaScript <span class="codeInline">data</span> array and convey it to the column chart, using the <span class="codeInline"> updateChart()</span> function. This function is responsible for updating the column chart. The column chart  now accepts this XML data, parses it and finally gets rendered.</li>
      </ol>
     <p>We will first take a look at the controller action default.</p>
	 </td>
	 </tr>
	 <tr>
     <td class="header">Creating the page containing the charts</td>
	 </tr>
	 <tr>
    <td valign="top" class="text">&nbsp;</td>
	</tr>
	 <tr>
    <td valign="top" class="text">
     <pre class="code_container prettyprint"><b>Controller: Fusioncharts::DbJsController
Action: default
</b> <span class="codeComment">#This action retrieves the factory data
# The corresponding view default.html.erb will be rendered. 
# In the view, rjs template (data.rjs) is rendered to dynamically 
#create a javascript array to hold the factory data.
# This javascript array is used by the updateChart javascript function, to dynamically 
# update the second chart when clicked on a pie section in the first chart.</span>
def default
  response.content_type = Mime::HTML
<span class="codeComment">  #Get data from factory_masters table</span>
  @factories = Fusioncharts::FactoryMaster.find(:all)
end</pre>
     <p class="text">The code in the controller is the same. The changed portions have been highlighted above. <b>     </b></p>     
     <ol>
       <li>Perform a find on the Model FactoryMaster selecting all the columns. Store this in a variable @factories.</li>
       <li>Iterate through the recordset obtained above and obtain the factory ID and name. Also a variable index_count which starts with 0 is incremented in the beginning of this loop. This number is used as an index for this factory in the javascript array which we will create. </li>
       <li>For each factory, iterate through the factory_output_quantities and calculates the total quantity for this factory. Also, create a variable @js_var_string to which <strong> &quot;data[&quot; + index_count.to_s + &quot;].push(new Array('&quot; + formatted_date + &quot;','&quot;+quantity_number.to_s+&quot;'));&quot;
            </strong>is appended. This js_var_string when output to HTML, creates a code to construct the two dimensional javascript array data.  data[0], say,will contain an array with date of production and quantity values for a particular factory. So on, for all other factories. </li>
       <li>Constructs a hash containing index_count, factory name and total output.</li>
       <li>Appends the hash to the array @factory_data. </li>
     </ol>     
     <p>This array @factories is used by the view to generate the first chart as shown below: </p>
     <pre class="code_container prettyprint"><strong>View: default.html.erb 
</strong>&lt;html&gt;
  &lt;head&gt;
	&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt;
	&lt;TITLE&gt;FusionCharts - Database + JavaScript Example&lt;/TITLE&gt;
	&lt;%= stylesheet_link_tag &quot;style&quot; %&gt;
	&lt;%= javascript_include_tag &quot;jquery.min&quot; %&gt;
	&lt;%= javascript_include_tag &quot;lib&quot; %&gt;
	&lt;%= javascript_include_tag &quot;DD_belatedPNG_0.0.8a-min&quot; %&gt;
    &lt;!--[if IE 6]&gt;
    &lt;script&gt;      
      <span class="codeComment"> /* select the element name, css selector, background etc */</span>
       DD_belatedPNG.fix('img');
      <span class="codeComment"> /* string argument can be any CSS selector */</span>
    &lt;/script&gt;
    &lt;![endif]--&gt;
    &lt;style type=&quot;text/css&quot;&gt;
      h2.headline {
        font: normal 110%/137.5% &quot;Trebuchet MS&quot;, Arial, Helvetica, sans-serif;
        padding: 0;
        margin: 25px 0 25px 0;
        color: #7d7c8b;
        text-align: center;
      }
      p.small {
        font: normal 68.75%/150% Verdana, Geneva, sans-serif;
        color: #919191;
        padding: 0;
        margin: 0 auto;
        width: 664px;
        text-align: center;
      }
    &lt;/style&gt;
    <span class="codeComment">&lt;%
      #In this example, we show a combination of database + JavaScript rendering using FusionCharts.
      #The entire example (page) can be summarized as under. This app shows the break-down
      #of factory wise output generated. In a pie chart, we first show the sum of quantity
      #generated by each factory. These pie slices, when clicked will show detailed date-wise
      #output of that factory.
      #The XML data for the pie chart is fully created in the controller at run-time. The controller interacts
      #with the database and creates the XML for this.
      #Now, for the column chart (date-wise output report), we do not submit request to the server.
      #Instead we store the data for the factories in JavaScript arrays. These JavaScript
      #arrays are rendered by our ruby Code (at run-time). We also have a few defined JavaScript
      #functions which react to the click event of pie slice.
      #Before the page is rendered, we need to connect to the database and get the
      #data, as we will need to convert this data into JavaScript variables.
      #The JS Data and variables are dynamically rendered by the rjs template.
      #Include the :defaults javascript, this is needed for the rjs template.
    %&gt;</span>
    &lt;%= javascript_include_tag :defaults %&gt;
    &lt;%= javascript_include_tag &quot;FusionCharts&quot; %&gt;
    <span class="codeComment">&lt;% #You need to include the above JS file, if you intend to embed the chart using JavaScript.
    #Embedding using JavaScripts avoids the &quot;Click to Activate...&quot; issue in Internet Explorer
    #When you make your own charts, make sure that the path to this JS file is correct. 
    #Else, you will get JavaScript errors.
    %&gt;</span>
    &lt;script LANGUAGE=&quot;JavaScript&quot;&gt;
    <span class="codeComment">&lt;%
      #Here, we use a mix of server side code (ruby) and JavaScript to
      #render our data for factory chart in JavaScript variables. We will later
      #utilize this data to dynamically plot charts.
      #All our data is stored in the data array. In the rjs template, we iterate through
      #each resultset of data and then store it as nested arrays in this data array.
    %&gt;</span>
      var data = new Array();
<span class="codeComment">   &lt;%
      #Write the data as JavaScript variables here.
      #For this we use the rjs template &quot;fusioncharts/db_js/data&quot;
      #The data is now present as arrays in JavaScript. Local JavaScript functions
      #can access it and make use of it. We will see how to make use of it.
    %&gt;</span>
    &lt;%= render :file=&gt;&quot;fusioncharts/db_js/data&quot;,:locals=&gt;{:factories =&gt; @factories } %&gt;
   <span class="codeComment"> /*updateChart method is invoked when the user clicks on a pie slice.
    In this method, we get the index of the factory, build the XML data
    for that that factory, using data stored in data array, and finally
    update the Column Chart.
    @param factoryIndex Sequential Index of the factory.
    @param factoryName For display purpose*/</span>
    function updateChart(factoryIndex,factoryName){
      <span class="codeComment">//Storage for XML data document</span>
      var strXML = &quot;&lt;chart palette='2' caption='Factory: &quot; + factoryName + &quot; Output ' 
      subcaption='(In Units)' xAxisName='Date' showValues='1' labelStep='2' &gt;&quot;;
      <span class="codeComment">//Add &lt;set&gt; elements</span>
      var i=0;
       for (i=0; i&lt;data[factoryIndex].length; i++){
        strXML = strXML + &quot;&lt;set label='&quot; + data[factoryIndex][i][0] + &quot;' value='&quot; + data[factoryIndex][i][1] + &quot;' /&gt;&quot;;
      }
      <span class="codeComment">//Closing Chart Element</span>
      strXML = strXML + &quot;&lt;/chart&gt;&quot;;
      <span class="codeComment">//Get reference to chart object using Dom ID &quot;FactoryDetailed&quot;</span>
      var chartObj = FusionCharts(&quot;FactoryDetailed&quot;);
      <span class="codeComment">//Update its XML</span>
      chartObj.setXMLData(strXML);
    }
    &lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id=&quot;wrapper&quot;&gt;
      &lt;div id=&quot;header&quot;&gt;
        &lt;div class=&quot;back-to-home&quot;&gt;&lt;%= link_to 'Back to home', :controller=&gt;'fusioncharts/index'%&gt;&lt;/div&gt;
        &lt;div class=&quot;logo&quot;&gt;
          &lt;a href=&quot;http://www.fusioncharts.com&quot;&gt;&lt;%= image_tag &quot;fusionchartsv3.2-logo.png&quot;, 
          :width=&gt;&quot;131&quot;, :height=&gt;&quot;75&quot;, :alt=&gt;&quot;FusionCharts v3.2 logo&quot; %&gt;&lt;/a&gt;
        &lt;/div&gt;
        &lt;h1 class=&quot;brand-name&quot;&gt;FusionCharts&lt;/h1&gt;
        &lt;h1 class=&quot;logo-text&quot;&gt;FusionCharts Database + JavaScript Example&lt;/h1&gt;
      &lt;/div&gt;        
      &lt;div class=&quot;content-area&quot;&gt;
        &lt;div id=&quot;content-area-inner-main&quot;&gt;
        &lt;h2 class=&quot;headline&quot;&gt;Inter-connected charts - Click on any pie slice to see detailed
            chart below.&lt;/h2&gt;
        &lt;div class=&quot;gen-chart-render&quot;&gt;
        &lt;% 
          <span class="codeComment"># The xml is obtained as a string from builder template.</span>
          str_xml = render :file=&gt;&quot;fusioncharts/db_js/factories_quantity&quot;, :locals=&gt;{:factories=&gt;@factories}
          <span class="codeComment">#Create the chart - Pie 3D Chart with data from strXML</span>
            render_chart '/FusionCharts/Pie3D.swf', '', str_xml, 'FactorySum', 500, 250, false, false do-%&gt;
        &lt;% end-%&gt;
      &lt;BR&gt;
      &lt;%
         <span class="codeComment"> #Column 2D Chart with changed &quot;No data to display&quot; message
          #We initialize the chart with &lt;chart&gt;&lt;/chart&gt;
          #Register with Javascript - the last parameter should be set to true</span>
          render_chart '/FusionCharts/Column2D.swf?ChartNoDataText=Please select a factory from pie 
          chart above to view detailed data.', '', '&lt;chart&gt;&lt;/chart&gt;', 
         'FactoryDetailed', 600, 250, false, true do-%&gt;
      &lt;% end-%&gt;
        &lt;/div&gt;
        &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
        &lt;p&gt;&amp;nbsp;&lt;/p&gt;
        &lt;p class=&quot;small&quot;&gt;The charts in this page have been dynamically generated using
        data contained in a database. We have not manually-coded the data in JavaScript.
        &lt;p&gt;&amp;nbsp;&lt;/p&gt;--&gt;
        &lt;/p&gt;
        &lt;div class=&quot;underline-dull&quot;&gt;&lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div id=&quot;footer&quot;&gt;
      &lt;ul&gt;
        &lt;li&gt;&lt;%= link_to '&amp;laquo; Back to list of examples', :controller=&gt;'fusioncharts/index'%&gt;&lt;/li&gt;
        &lt;li class=&quot;pipe&quot;&gt;|&lt;/li&gt;
        &lt;li&gt;&lt;a href=&quot;/NoChart.html&quot;&gt;&lt;span&gt;Unable to see the chart above?&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/div&gt;
    &lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;</pre>
     <p>In this page,  we first render all the data in database as JavaScript array. To do so, we render the rjs template<span class="codeInline"></span> in the <span class="codeInline">&lt;SCRIPT&gt;</span> section of <span class="codeInline">&lt;HEAD&gt; tag </span>as shown.</p>
     <pre class="prettyprint code_container">var data = new Array();
 &lt;%= render :file=&gt;&quot;fusioncharts/db_js/data&quot;,:locals=&gt;{:factories =&gt; @factories } %&gt;</pre>
     <p>If you run this page and view the source JavaScript code, you will see the following: </p>     
<pre class="code_container prettyprint">var data = new Array();
data[0] = new Array();
data[0].push(new Array('01/01','21'));
data[0].push(new Array('02/01','23'));
data[0].push(new Array('03/01','22'));
data[0].push(new Array('04/01','24'));
data[0].push(new Array('05/01','32'));
data[0].push(new Array('06/01','21'));
data[0].push(new Array('07/01','34'));
data[0].push(new Array('08/01','32'));
data[0].push(new Array('09/01','32'));
data[0].push(new Array('10/01','23'));
data[0].push(new Array('11/01','23'));
data[0].push(new Array('12/01','32'));
data[0].push(new Array('13/01','53'));
data[0].push(new Array('14/01','23'));
data[0].push(new Array('15/01','26'));
data[0].push(new Array('16/01','43'));
data[0].push(new Array('17/01','16'));
data[0].push(new Array('18/01','45'));
data[0].push(new Array('19/01','65'));
data[0].push(new Array('20/01','54'));
data[1] = new Array();
data[1].push(new Array('01/01','121'));
data[1].push(new Array('02/01','123'));
data[1].push(new Array('03/01','122'));
data[1].push(new Array('04/01','124'));
data[1].push(new Array('05/01','132'));
data[1].push(new Array('06/01','121'));
data[1].push(new Array('07/01','134'));
data[1].push(new Array('08/01','132'));
data[1].push(new Array('09/01','132'));
data[1].push(new Array('10/01','123'));
data[1].push(new Array('11/01','123'));
data[1].push(new Array('12/01','132'));
data[1].push(new Array('13/01','153'));
data[1].push(new Array('14/01','123'));
data[1].push(new Array('15/01','126'));
data[1].push(new Array('16/01','143'));
data[1].push(new Array('17/01','116'));
data[1].push(new Array('18/01','145'));
data[1].push(new Array('19/01','165'));
data[1].push(new Array('20/01','154'));
data[2] = new Array();
data[2].push(new Array('01/01','54'));
data[2].push(new Array('02/01','56'));
data[2].push(new Array('03/01','89'));
data[2].push(new Array('04/01','56'));
data[2].push(new Array('05/01','98'));
data[2].push(new Array('06/01','76'));
data[2].push(new Array('07/01','65'));
data[2].push(new Array('08/01','45'));
data[2].push(new Array('09/01','75'));
data[2].push(new Array('10/01','54'));
data[2].push(new Array('11/01','75'));
data[2].push(new Array('12/01','76'));
data[2].push(new Array('13/01','34'));
data[2].push(new Array('14/01','97'));
data[2].push(new Array('15/01','55'));
data[2].push(new Array('16/01','43'));
data[2].push(new Array('17/01','16'));
data[2].push(new Array('18/01','35'));
data[2].push(new Array('19/01','78'));
data[2].push(new Array('20/01','75'));</pre>
     <p>Now, before we get to the JavaScript functions, let's first see what we are doing in our code. The code which generates the above data arrays is in the rjs template (data.rjs):</p>
     <pre class="code_container prettyprint"><span class="codeComment">#Create a javascript array, to contain the date of production
#and the factory output quantity.</span>
  index_count=-1
    factories.each do |factory|
      index_count = index_count + 1
      page &lt;&lt; &quot;\t\t\t\tdata[&quot;+index_count.to_s+&quot;] = new Array();&quot; 
        factory.factory_output_quantities.each do |factory_output|
        page &lt;&lt; &quot;\t\t\t\t data[&quot;+index_count.to_s+&quot;].
          push(new Array('&quot;+ formatted_date(factory_output.date_pro)+ &quot;','&quot;+ factory_output.quantity.to_s+&quot;'));&quot;
        end
    end </pre>
     <p>In the body of the HTML, we have rendered two charts. The first chart uses the builder template factory_quantities.builder, passes the <span class="codeInline">@factories</span> parameter  to it via locals. The resulting XML is passed to the <span class="codeInline">render_chart</span> function to show a Pie3D chart. </p>
<p>The second chart is initialized with a customized message &quot;Please select a factory from pie chart above to view detailed data.&quot;.</p>
     <p>Let us take a look at the builder which actually does the work of creating a link to the detailed chart for each factory.</p>
     <pre class="code_container prettyprint"><span class="codeComment">#Creates XML with values for factory output along with their names. It also creates
#a link to JavaScript function updateChart
#It uses the factories parameter from locals hash.
#This data is used for building XML for chart with factory name and total output.</span>
  xml = Builder::XmlMarkup.new
  index_count = -1
  xml.chart(:caption=&gt;'Factory Output report', :subCaption=&gt;'By Quantity', 
  :pieSliceDepth=&gt;'30', :showBorder=&gt;'1', :formatNumberScale=&gt;'0', :numberSuffix=&gt;'Units') do
     factories.each do |factory|
<span class="codeComment">       # Note that the same index_count must be used in the JavaScript array</span>
      index_count = index_count + 1 
      xml.set(:label=&gt;factory.name,:value=&gt;factory.total_quantity,
      :link=&gt;'javaScript:updateChart('+index_count.to_s+ ',&quot;'+factory.name+'&quot;);' )
    end
end</pre>
     <p>For each <span class="codeInline">&lt;set&gt;</span>, we provide a JavaScript link to the <span class="codeInline">updateChart()</span> function and pass the factory index and factory name to it.</p>
     <p>Effectively, our page is now set to show two charts. The pie chart shows the summary data provided to it using the Data String method. The column chart shows the above &quot;friendly&quot; error message. Now, when each pie slice is clicked, the <span class="codeInline">updateChart()</span> JavaScript function is called and the index of the factory in the array and the factory name  of the pie is passed to it. This function is responsible for updating the column chart and contains the following code: </p>
     <pre class="code_container prettyprint">function updateChart(factoryIndex,factoryName){
//Storage for XML data document
    var strXML = &quot;&lt;chart palette='2' caption='Factory: &quot; + factoryName + &quot; Output ' 
    subcaption='(In Units)' xAxisName='Date' showValues='1' labelStep='2' &gt;&quot;;
     //Add &lt;set&gt; elements
      var i=0;
       for (i=0; i&lt;data[factoryIndex].length; i++){
        strXML = strXML + &quot;&lt;set label='&quot; + data[factoryIndex][i][0] + &quot;' value='&quot; + data[factoryIndex][i][1] + &quot;' /&gt;&quot;;
      }
      //Closing Chart Element
      strXML = strXML + &quot;&lt;/chart&gt;&quot;;
      //Get reference to chart object using Dom ID &quot;FactoryDetailed&quot;
      var chartObj = FusionCharts(&quot;FactoryDetailed&quot;);
      //Update its XML
      chartObj.setXMLData(strXML);
    }</pre>
     <p>Here, </p>
     <ol>
       <li>We first create the XML data document for the column chart by iterating through data contained in our JavaScript <span class="codeInline">data</span> array, by using the index of the factory provided as parameter. </li>
       <li>Thereafter, we pass this XML data to the column chart. To do so, we first get a reference to the column chart using its DOM Id <span class="codeInline">FactoryDetailed</span>. We use the <span class="codeInline">getChartFromId</span>() function defined in <span class="codeInline">FusionCharts.js</span> to do so. </li>
       <li>Once we have the reference to the chart, we simply call the <span class="codeInline">setXMLData</span> method of the chart and pass it the XML data document. </li>
       <li>This updates the chart with new data. </li>
     </ol>
     <p>When you now see the application, the initial state will look as under: </p>     
     <p class="text"><img src="../../guide-for-web-developers/Images/Code_JS_URL_Ini.jpg" width="511" height="458" class="imageBorder" /></p>
     <p class="text">And when you click  a pie slice, the following will appear on the same page (without  any browser refreshes): </p>
     <p class="text"><img src="../../guide-for-web-developers/Images/Code_JS_URL_Fin.jpg" width="610" height="526" class="imageBorder" /> </p>
     <p class="text">This example demonstrated a very basic sample of the integration capabilities possible with FusionCharts XT. </p></td>
  </tr>
</table>
<!-- footer links starts-->
<div id="fcfooter"></div>
<script type="text/javascript">
	document.getElementById("fcfooter").innerHTML =  addFCFooter("ROR, JavaScript and Data URL|Ruby_JS_url.html","Using Multilingual text|Ruby_UTF8Example.html");
</script>
<!-- footer links ends -->
<script type="text/javascript" language="javascript1.2">//<![CDATA[
<!--

	highlightSearch();

//-->
//]]></script>
</body>
</html>
