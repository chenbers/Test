<?xml version="1.0" encoding="iso-8859-1"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>Using FusionCharts XT with ASP.NET  (C#)- Master Page Sample </title>
<link rel="stylesheet" href="../../assets/ui/css/style.css" type="text/css" />
<script type="text/javascript" src="../../assets/prettify/prettify.js"></script>
<link rel="stylesheet" type="text/css" href="../../assets/prettify/prettify.css" />
<script type="text/javascript" src="../../assets/ui/js/jquery.min.js" ></script>
<style type="text/css">
<!--
div.WebHelpPopupMenu { position:absolute;
left:0px;
top:0px;
z-index:4;
visibility:hidden; }

a.whtbtnhide, a.whtbtnshow, a.whtbtnhidenav , a.whtbtnshownav { border-bottom:none !important; }
-->
</style>
<script type="text/javascript" language="javascript1.2" src="../../assets/ui/js/whmsg.js"></script>
<script type="text/javascript" language="javascript" src="../../assets/ui/js/whver.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../assets/ui/js/whproxy.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../assets/ui/js/whutils.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../assets/ui/js/whlang.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../assets/ui/js/whtopic.js"></script>
<script type="text/javascript" src="../../assets/ui/js/lib.js"></script>
</head>

<body>
<!-- breadcrumb starts here -->
<div id="breadcrumb"></div>
<script type="text/javascript">
	document.write( addFCBreadcrumb( [ "Home|../../Introduction/Overview.html", "Guide for web developers", "Using FusionCharts XT with ASP.NET(C#)|CS_BasicExample.html", "Using with Master pages" ] ) );
</script>
<!-- breadcrumb ends here -->


<table width="98%" border="0" cellspacing="0" cellpadding="3" align="center">
  <tr> 
    <td class="pageHeader">Master Page Sample </td>
  </tr>
  <tr> 
    <td valign="top" class="text"><p>FusionCharts XT can effectively be used with C# (ASP.NET) Master Pages to plot dynamic data-driven charts. In this example, we will show a  basic sample to help you get started.</p>
      <p>In this example we will do the following:</p>
      <ol>
        <li><a href="#master">Create a simple master page</a></li>
        <li><a href="#content">Define a content page for this master page</a> </li>
        <li><a href="#chart">Place a chart in this  content page</a></li>
      </ol>
      <p><strong>Before you go further with this page, we recommend you to please see the 
							previous section, <a href="CS_BasicExample.html">Basic Examples</a>, as we start off from concepts 
	  explained in that page. </strong></p>    
	  <p class="highlightBlock">All code discussed here is present in <span class="codeInline">Download Package &gt; Code &gt; CS </span> &gt; <span class="codeInline">MasterPage_Example</span> folder.</p> </td>
  </tr>
  
  
  <tr>
    <td valign="top" class="header"><a name="master" id="master"></a>Creating a Master Page <span class="codeInline"></span></td>
  </tr>
  
  <tr>
    <td valign="top" class="text"><p>We have created a simple master page with a header and a footer and a content place holder. The code of the master page (MasterPage.master) is as shown below:</p>
	<pre class="code_container prettyprint" >
&lt;%@ Master Language=&quot;C#&quot; %&gt;
&lt;html&gt;
&nbsp;&nbsp;&lt;head runat=&quot;server&quot;&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;style type=&quot;text/css&quot;&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;body { font-family: Arial, Helvetica, sans-serif; font-size: 12px; }
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.text{ font-family: Arial, Helvetica, sans-serif; font-size: 12px; }
&nbsp;&nbsp;&nbsp;&nbsp;--&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/style&gt;
&nbsp;&nbsp;&lt;/head&gt;
&nbsp;&nbsp;&lt;body&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;center&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;form id='form2' name='form1' method='post' runat=&quot;server&quot;&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;h2&gt;FusionCharts XT Examples&lt;/h2&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;h4&gt;Basic example - Using ASP.NET 2.0 Master Page&lt;/h4&gt;
<strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;asp:ContentPlaceHolder ID=&quot;ContentPlaceHolder1&quot; runat=&quot;server&quot;&gt; &lt;/asp:ContentPlaceHolder&gt;</strong>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;p /&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;h5&gt;This page is built using &lt;a href=&quot;http://www.fusioncharts.com&quot; target=&quot;_blank&quot;&gt; FusionCharts XT&lt;/a&gt; and ASP.NET 2.0 C# MasterPage
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/h5&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/form&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/center&gt;
&nbsp;&nbsp;&lt;/body&gt;
&lt;/html&gt;</pre></td>
  </tr>
  
  <tr>
    <td valign="top" class="text">
	<p>Here we,</p>
	<ul>
      <li>Added the header and footer text. </li>
      <li>Placed a content holder with id <span class="codeInline">ContentPlaceHolder1</span>. Inside this, we will place our chart from the main aspx file.</li>
	  </ul>
        <p>The master page will look like the following in  Design view:</p>

<p><img src="../Images/CS_MP1.jpg" width="644" height="354" class="imageBorder" /></p>
  
  <tr>
    <td valign="top" class="header"><a name="content" id="content"></a>Creating a content page </td>
  </tr>
  
  <tr>
    <td valign="top" class="text"><p>Now, let's create a content page to apply this master page and add a chart to it. Our content page (<span class="codeInline">Default.aspx</span>) will be like this :</p> 
	<pre class="code_container prettyprint" >
&lt;%@ Page Language=&quot;C#&quot; <strong>MasterPageFile=&quot;~/MasterPage.master&quot; </strong>CodeFile=&quot;Default.aspx.cs&quot; Inherits=&quot;_Default&quot; Title=&quot;FusionCharts XT Example - Using ASP.NET 2.0 Master Page&quot; %&gt;
&lt;asp:Content ID=&quot;Content1&quot; ContentPlaceHolderID=&quot;<strong>ContentPlaceHolder1</strong>&quot; Runat=&quot;Server&quot;&gt;
&nbsp;&nbsp;&lt;script language=&quot;javascript&quot; type=&quot;text/javascript&quot; src=&quot;../FusionCharts/FusionCharts.js&quot;&gt;&lt;/script&gt;
&nbsp;&nbsp;&lt;%
&nbsp;&nbsp;&nbsp;&nbsp;//Included FusionCharts.js to embed FusionCharts XT easily in web pages
&nbsp;&nbsp;&nbsp;&nbsp;//The following code will generate a chart from code behind file Default.aspx.cs
&nbsp;&nbsp;%&gt;
&nbsp;&nbsp;&lt;%=GetMonthlySalesChartHtml() %&gt;
&lt;/asp:Content&gt;</pre></td>
  </tr>
  
  <tr>
    <td valign="top" class="text">
	<p>Here we,</p>
	<ul>
      <li>Set the <span class="codeInline">MasterPageFile</span> attribute to bind the master page we just created.</li>
      <li>Add the  Content control and map it to the <span class="codeInline">ContentPlaceHolder</span> control on the master page.</li>
      <li> Include <span class="codeInline">FusionCharts.js</span> to easily embed a chart inside the content. </li>
      <li>Finally,  call <span class="codeInline">GetMonthlySalesChartHtml()</span> from code behind file which renders the chart. </li>
    </ul>
	<p>Let's see how <span class="codeInline">GetMonthlySalesChartHtml() works: </span></p>
	<pre class="code_container prettyprint" >
using InfoSoftGlobal;
public partial class SimpleChart : System.Web.UI.Page
{
&nbsp;&nbsp;public string GetMonthlySalesChartHtml()
&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;//Create the chart - Column 3D Chart with data from Data/Data.xml
&nbsp;&nbsp;&nbsp;&nbsp;return FusionCharts.RenderChart(&quot;../FusionCharts/Column3D.swf&quot;, &quot;Data/Data.xml&quot;, &quot;&quot;,&quot;myFirst&quot;, &quot;600&quot;, &quot;300&quot;, false, false);
&nbsp;&nbsp;}
}</pre>
<p>We have just used the <span class="codeInline">RenderChart()</span> method from the <span class="codeInline">InfoSoftGlobal.</span><span class="codeInline">FusionCharts</span> class to return the HTML code for the chart (using JavaScript embedding). For simplicity, we have used a physical <span class="codeInline">Data.xml</span> file to provide chart data using the <span class="codeInline">Data URL</span> method.</p>      
<p><span class="header"><a name="chart" id="chart"></a></span>The container page will show up the chart in browser like the screenshot below:</p> 
<p><img src="../Images/CSVB_MP2.jpg" width="607" height="439" class="imageBorder" /></p>
</td>
  </tr>
</table>
<!-- footer links starts-->
<div id="fcfooter"></div>
<script type="text/javascript">
	document.getElementById("fcfooter").innerHTML =  addFCFooter("Creating Drill down charts|CS_Drill.html","ASP.NET, JavaScript &amp; dataURL|CS_JS_URL.html");
</script>
<!-- footer links ends -->
<script type="text/javascript" language="javascript1.2">//<![CDATA[
<!--

	highlightSearch();

//-->
//]]></script>
</body>
</html>
