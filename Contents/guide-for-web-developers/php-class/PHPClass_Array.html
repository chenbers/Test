<?xml version="1.0" encoding="iso-8859-1"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>Using FusionCharts PHP Class - Charting Data from Array </title>
<link rel="stylesheet" href="../../assets/ui/css/style.css" type="text/css" />
<script type="text/javascript" src="../../assets/prettify/prettify.js"></script>
<link rel="stylesheet" type="text/css" href="../../assets/prettify/prettify.css" />
<script type="text/javascript" src="../../assets/ui/js/jquery.min.js" ></script>
<style type="text/css">
<!--
div.WebHelpPopupMenu { position:absolute;
left:0px;
top:0px;
z-index:4;
visibility:hidden; }

a.whtbtnhide, a.whtbtnshow, a.whtbtnhidenav , a.whtbtnshownav { border-bottom:none !important; }
-->
</style>
<script type="text/javascript" language="javascript1.2" src="../../assets/ui/js/whmsg.js"></script>
<script type="text/javascript" language="javascript" src="../../assets/ui/js/whver.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../assets/ui/js/whproxy.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../assets/ui/js/whutils.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../assets/ui/js/whlang.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../assets/ui/js/whtopic.js"></script>
<script type="text/javascript" src="../../assets/ui/js/lib.js"></script>
</head>

<body>
<!-- breadcrumb starts here -->
<div id="breadcrumb"></div>
<script type="text/javascript">
	document.write( addFCBreadcrumb( [ "Home|../../Introduction/Overview.html", "Guide for web developers", "Using PHP Class|PHPClass_BAsicExamples.html", "Charting data from Array" ] ) );
</script>
<!-- breadcrumb ends here -->


<table width="98%" border="0" cellspacing="0" cellpadding="3" align="center">
  <tr> 
    <td class="pageHeader">Charting Data from Array </td>
  </tr>
  <tr> 
    <td valign="top" class="text"><p>In this section, we will show you how to use FusionCharts  PHP class functions to plot charts from data contained in PHP arrays. We will cover the following examples here:</p>
      <ul>
        <li><a href="#single">Creating a single series chart from data contained in an array</a></li>
        <li><a href="#multi">Creating a multi-series chart from data contained in arrays</a></li>
      </ul>
      <p><strong>Before you go further with this page, we recommend you to please see the previous section, &quot;Basic Examples&quot;, as we start off from concepts explained in that page. </strong></p>
      <p class="highlightBlock">The code examples contained in this page are present in <span class="codeInline">Download Package &gt; Code &gt; PHPClass &gt; ArrayExample</span> folder. </p></td>
  </tr>
 
  <tr>
    <td valign="top" class="header"><a name="single" id="single"></a>Creating a Single series chart from data contained in arrays</td>
  </tr>
  <tr>
    <td valign="top" class="text"><p>The code to create a single series chart is contained in <span class="codeInline">SingleSeries.php</span> and can be listed as under: </p></td>
  </tr>
 
  <tr>
    <td valign="top"><pre class="prettyprint code_container">&lt;?php
	<span class="codeComment">//We have included ../Includes/FusionCharts_Gen.php, which contains FusionCharts PHP Class
	//to help us easily embed the charts.</span>
	include(&quot;../Includes/FusionCharts_Gen.php&quot;);
?&gt;
&lt;HTML&gt;
	&lt;HEAD&gt;
		&lt;TITLE&gt;
			FusionCharts XT - Array Example using Single Series Column 3D Chart
 		&lt;/TITLE&gt;

		&lt;?php
			<span class="codeComment">//You need to include the following JS file, if you intend to embed the chart using JavaScript.
			//Embedding using JavaScript avoids the &quot;Click to Activate...&quot; issue in Internet Explorer
			//When you make your own charts, make sure that the path to this JS file is correct.
			//Else, you will get JavaScript errors.</span>
		?&gt;

		&lt;SCRIPT LANGUAGE=&quot;Javascript&quot; SRC=&quot;../../FusionCharts/FusionCharts.js&quot;&gt;
		&lt;/SCRIPT&gt;

	&lt;/HEAD&gt;
	&lt;BODY&gt;
		&lt;CENTER&gt;

		&lt;?php
			<span class="codeComment">//In this example, using FusionCharts PHP Class we plot a single series chart
			//from data contained in an array.

			//The array needs to have two columns - first one for data labels/names
			//and the next one for data values.

			//Let's store the sales data for six products in our array. We also store
			//the name of products.

			<strong>//Store Name of Products in the first column of the array </strong></span>
			$arrData[0][0] = &quot;Product A&quot;;
			$arrData[1][0] = &quot;Product B&quot;;
			$arrData[2][0] = &quot;Product C&quot;;
			$arrData[3][0] = &quot;Product D&quot;;
			$arrData[4][0] = &quot;Product E&quot;;
			$arrData[5][0] = &quot;Product F&quot;;

			<span class="codeComment"><strong>//Store sales data in the second column of the array </strong></span>
			$arrData[0][1] = 567500;
			$arrData[1][1] = 815300;
			$arrData[2][1] = 556800;
			$arrData[3][1] = 734500;
			$arrData[4][1] = 676800;
			$arrData[5][1] = 648500;

			<span class="codeComment"># Create FusionCharts PHP Class object for single series column3d chart</span>
			$FC = new FusionCharts(&quot;Column3D&quot;,&quot;600&quot;,&quot;300&quot;);

			<span class="codeComment"># Set Relative Path of chart SWF file.</span>
			$FC-&gt;setSwfPath(&quot;../../FusionCharts/&quot;);

			<span class="codeComment"># Define chart attributes</span>
			$strParam=&quot;caption=Sales by Product;numberPrefix=$;formatNumberScale=0;decimalPrecision=0&quot;;

			<span class="codeComment">#  Set chart attributes</span>
			$FC-&gt;setChartParams($strParam);

			<span class="codeComment"><strong># Call FusionCharts PHP Class Function to add data from the array </strong></span>
			<strong>$FC-&gt;addChartDataFromArray($arrData);</strong>

			<span class="codeComment"># Render the chart</span>
			$FC-&gt;renderChart();
		?&gt;

		&lt;/CENTER&gt;
	&lt;/BODY&gt;
&lt;/HTML&gt;</pre>   </td>
  </tr>
  
  <tr>
    <td valign="top" class="text"><p>In the above example:</p>
	<ul>
	<li>We have included <span class="codeInline">FusionCharts_Gen.php</span> and <span class="codeInline">FusionCharts.js</span>.</li>
      <li>Stored the category names and labels in the first column of the two dimensional array <span class="codeInline">$arrData[]</span>. </li>
      <li>Then we  stored respective data values in the second column of the two dimensional array <span class="codeInline">$arrData[]</span> . </li>
      <li>Created an instance of the FusionCharts PHP class for Column 3D chart with 600 pixels width and 300 pixels height.</li>
      <li>Set the relative path of  chart SWF file.</li>
      <li>Rendered chart using the <span class="codeInline">renderChart()</span> function. </li>
	</ul>      
	<p class="highlightBlock">Please go through <a href="../fusioncharts-asp-class/Functions.html">FusionCharts PHP Class API Reference</a> section to know more about the functions used in the above code.</p>
	<p>When you view the chart, you will see a chart as under:</p>
	<p><img src="../Images/Code_ArraySS.jpg" width="584" height="287" class="imageBorder"  /></p></td></tr>
  <tr>
    <td valign="top" class="header"><a name="multi" id="multi"></a>Creating a Multi-series chart from data contained in arrays </td>
  </tr>
  <tr>
    <td valign="top" class="text"><p>Let us now create a multi-series chart from data contained in arrays. We create a file <span class="codeInline">MultiSeries.php</span> with the following code: </p></td>
  </tr>
 
  <tr>
    <td valign="top"><pre class="prettyprint code_container">&lt;?php
	<span class="codeComment">//We have included ../Includes/FusionCharts_Gen.php, which contains FusionCharts PHP Class
	//to help us easily embed the charts.</span>
	include(&quot;../Includes/FusionCharts_Gen.php&quot;);
?&gt;

&lt;HTML&gt;
	&lt;HEAD&gt;
		&lt;TITLE&gt;
			FusionCharts XT - Array Example using Multi Series Column 3D Chart
		&lt;/TITLE&gt;

		&lt;?php
			<span class="codeComment">//You need to include the following JS file, if you intend to embed the chart using JavaScript.
			//Embedding using JavaScripts avoids the &quot;Click to Activate...&quot; issue in Internet Explorer
			//When you make your own charts, make sure that the path to this JS file is correct.
			//Else, you will get JavaScript errors.</span>
		?&gt;

		&lt;SCRIPT LANGUAGE=&quot;Javascript&quot; SRC=&quot;../../FusionCharts/FusionCharts.js&quot;&gt;
		&lt;/SCRIPT&gt;
	&lt;/HEAD&gt;

	&lt;BODY&gt;
		&lt;CENTER&gt;

		&lt;?php
			<span class="codeComment">//In this example, using FusionCharts PHP Class
			//we plot a multiseries chart from data contained in arrays

			/* The arrays need to be of the following  structure :

			1. Array to store Category Names :

			A single dimensional array storing the category names

			2. A 2 Dimensional Array to store data values </span>

			<span class="codeComment">** Each row will store data for 1 dataset

			Column 1 will store : Dataset Series Name.
			Column 2 will store : Dataset attributes
			(as list separated by delimiter.)
			Column 3 and rest will store : values of the dataset

			*/
			//Let's store the sales data for six products in our array. We also store the name of products.

			<strong>//Store Name of Products</strong></span>
			$arrCatNames[0] = &quot;Product A&quot;;
			$arrCatNames[1] = &quot;Product B&quot;;
			$arrCatNames[2] = &quot;Product C&quot;;
			$arrCatNames[3] = &quot;Product D&quot;;
			$arrCatNames[4] = &quot;Product E&quot;;
			$arrCatNames[5] = &quot;Product F&quot;;
			<span class="codeComment"><strong>//Store sales data for current year</strong></span>
			$arrData[0][0] = &quot;Current Year&quot;;
			$arrData[0][1] = &quot;&quot;; <span class="codeComment">// Dataset Parameters</span>
			$arrData[0][2] = 567500;
			$arrData[0][3] = 815300;
			$arrData[0][4] = 556800;
			$arrData[0][5] = 734500;
			$arrData[0][6] = 676800;
			$arrData[0][7] = 648500;
			<span class="codeComment"><strong>//Store sales data for previous year</strong></span>
			$arrData[1][0] = &quot;Previous Year&quot;;
			$arrData[1][1] = &quot;&quot;; <span class="codeComment">// Dataset Parameter</span>
			$arrData[1][2] = 547300;
			$arrData[1][3] = 584500;
			$arrData[1][4] = 754000;
			$arrData[1][5] = 456300;
			$arrData[1][6] = 754500;
			$arrData[1][7] = 437600;

			<span class="codeComment"># Create FusionCharts PHP Class object for multiseries column3d chart</span>
			$FC = new FusionCharts(&quot;MSColumn3D&quot;,&quot;600&quot;,&quot;300&quot;);

			<span class="codeComment"># Set Relative Path of chart SWF file.</span>
			$FC-&gt;setSwfPath(&quot;../../FusionCharts/&quot;);

			<span class="codeComment"># Define chart attributes</span>
			$strParam=&quot;caption=Sales by Product;numberPrefix=$;formatNumberScale=1;rotateValues=1;decimalPrecision=0&quot;;

			<span class="codeComment"># Set chart attributes</span>
			$FC-&gt;setChartParams($strParam);

			<span class="codeComment"><strong># Pass the two arrays storing data and category names to
			# FusionCharts PHP Class function addChartDataFromArray</strong></span>
			<strong>$FC-&gt;addChartDataFromArray($arrData, $arrCatNames);</strong>

			<span class="codeComment"># Render the Chart </span>
			$FC-&gt;renderChart();
		?&gt;

		&lt;/CENTER&gt;
	&lt;/BODY&gt;
&lt;/HTML&gt;</pre> </td>
  </tr>
  
  <tr>
    <td valign="top" class="text"><p>Let's analyze what we have done in the code above:</p>
	    <ul>
	<li>We included <span class="codeInline">FusionCharts_Gen.php</span> class and <span class="codeInline">FusionCharts.js</span> classes.</li>
	<li>We created two arrays - one single dimensional array and one two dimensional array. The single dimensional array <span class="codeInline">$arrCatNames</span> stores category names. Thetwo dimensional array <span class="codeInline">$arrData</span> stores dataset name, dataset parameters and values in its each row.<br />
	    <strong>Note:</strong> the dataset parameters separated by delimiters should be stored as string. It is optional for multi series charts, but compulsory for combination charts. </li>
	<li>We created FusionCharts PHP class object for multi-series Column 3D chart with 600 pixels width and 300 pixels height. </li>
	<li>We set relative path of  chart SWF file using the <span class="codeInline">setSwfPath()</span> function.</li>
	<li>We stored the delimiter separated chart attributes in the <span class="codeInline">$strParam</span> variable and passed this variable through the <span class="codeInline">setChartParams()</span> function to set chart attributes. </li>
	<li>Next, we called the <span class="codeInline">addChartDataFromArray()</span> function and passed <span class="codeInline">$arrData</span> and <span class="codeInline">$arrCatNames</span>  arrays through it. The arrays should be passed in this order only, that is, <span class="codeInline">$arrData</span> is to be the first parameter and <span class="codeInline">$arrCatNames</span> the second.</li>
	<li>Finally we rendered the chart using the <span class="codeInline">renderChart()</span> function.</li>
	</ul>    
	<p class="highlightBlock">Please go through <a href="../fusioncharts-asp-class/Functions.html">FusionCharts PHP Class API Reference</a> section to know more about the functions used in the above code.</p> 
	<p class="text">When you view the chart, you will see a chart as under:</p>
	<p><img src="../Images/Code_ArrayMS.jpg" class="imageBorder" /></p>
	<p class="highlightBlock">In <span class="codeInline">Download Package &gt; Code &gt; PHPClass &gt; ArrayExample</span>, we have more example codes to create Stacked and Combination Charts too, which have not been explained here, as they're similar in concept. You can directly see the code if you want to.</p></td>
  </tr>
</table>
<!-- footer links starts-->
<div id="fcfooter"></div>
<script type="text/javascript">
	document.getElementById("fcfooter").innerHTML =  addFCFooter("FusionCharts PHP Class|PHPClass_BasicExamples.html","Using with data in Forms|PHPClass_Forms.html");
</script>
<!-- footer links ends -->
<script type="text/javascript" language="javascript1.2">//<![CDATA[
<!--

	highlightSearch();

//-->
//]]></script>
</body>
</html>
