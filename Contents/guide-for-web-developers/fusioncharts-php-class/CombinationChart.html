<?xml version="1.0" encoding="iso-8859-1"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>FusionCharts PHP Class API - Creating Combination Chart </title>
<link rel="stylesheet" type="text/css" href="../../assets/ui/css/style.css"/>
<script type="text/javascript" src="../../assets/prettify/prettify.js"></script>
<link rel="stylesheet" type="text/css" href="../../assets/prettify/prettify.css" />
<script type="text/javascript" src="../../assets/ui/js/jquery.min.js" ></script>
<style type="text/css">
<!--
div.WebHelpPopupMenu { position:absolute;
left:0px;
top:0px;
z-index:4;
visibility:hidden; }

a.whtbtnhide, a.whtbtnshow, a.whtbtnhidenav , a.whtbtnshownav { border-bottom:none !important; }
-->
</style>
<script type="text/javascript" language="javascript1.2" src="../../assets/ui/js/whmsg.js"></script>
<script type="text/javascript" language="javascript" src="../../assets/ui/js/whver.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../assets/ui/js/whproxy.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../assets/ui/js/whutils.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../assets/ui/js/whlang.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../assets/ui/js/whtopic.js"></script>
<script type="text/javascript" src="../../assets/ui/js/lib.js"></script>
</head>

<body>
<!-- breadcrumb starts here -->
<div id="breadcrumb"></div>
<script type="text/javascript">
	document.write( addFCBreadcrumb( [ "Home|../../Introduction/Overview.html", "Guide for web developers", "FusionCharts PHP Class|Overview.html", "Creating Combination chart" ] ) );
</script>
<!-- breadcrumb ends here -->


<table width="98%" border="0" cellspacing="0" cellpadding="3" align="center">
  <tr> 
    <td class="pageHeader">Creating Combination Chart </td>
  </tr>
  

  <tr>
    <td valign="top" class="text"><p>Combination chart has two y-axes. The y-axis on the left  hand side is called Primary y-axis and that on the right hand side is called  Secondary y-axis. Combination charts are used when we intend to compare two  different types of data on the same chart, for example, if we want to plot Weekly  Sales Revenue of two consecutive months and total units sold on the same chart,  we have to use a Combination Chart. See the image below and note that the two y-axes are representing different data units. </p>    </td>
  </tr>
  <tr>
    <td valign="top" class="text"><img src="../Images/ClassImages/ClassCombination.jpg"  class="imageBorder" /></td>
  </tr>
  
  <tr>
    <td valign="top" class="text"><p>Let's add some more data to the existing Table for multi-series chart. We will add a column that tabulates Total Quantity Sales.</p> </td>
  </tr>
  
  <tr>
    <td valign="top" class="text">
      <table width="40%" cellspacing="0" cellpadding="5" class="table">
        <tr >
          <td height="24" class="header">Week</td>
          <td  class="header">
          <div align="right">Current Month </div>          </td>
          <td  class="header">
          <div align="right">Previous Month </div>          </td>
          <td  align="right" class="header">&nbsp;</td>
        </tr>
        <tr>
          <td class="borderBottom">&nbsp;</td>
          <td class="headerwhite">
          <div align="right">Sales </div>          </td>
          <td class="headerwhite">
          <div align="right">Sales </div>          </td>
          <td align="right" class="headerwhite">Total Quantity </td>
        </tr>
        <tr>
          <td height="25" class="borderBottom">Week 1 </td>
          <td class="borderBottom">
            <div align="right">$40800</div>          </td>
          <td class="borderBottom">
            <div align="right">$38300</div>          </td>
          <td align="right" class="borderBottom">64</td>
        </tr>
        <tr>
          <td height="25" class="borderBottom">Week 2 </td>
          <td class="borderBottom">
            <div align="right">$31400</div>          </td>
          <td class="borderBottom">
            <div align="right">$28400</div>          </td>
          <td align="right" class="borderBottom">70</td>
        </tr>
        <tr>
          <td height="25" class="borderBottom">Week 3 </td>
          <td class="borderBottom">
            <div align="right">$26700</div>          </td>
          <td class="borderBottom">
            <div align="right">$15700</div>          </td>
          <td align="right" class="borderBottom">52</td>
        </tr>
        <tr>
          <td height="25">Week 4 </td>
          <td>
            <div align="right">$54400</div>          </td>
          <td>
            <div align="right">$48100</div>          </td>
          <td align="right">81</td>
        </tr>
      </table>
    </td>
  </tr>
  <tr>
     <td valign="top" class="text">&nbsp;</td>
  </tr>
  <tr>
     <td valign="top" class="highlightBlock"><strong>Before you go further with this page, we recommend you to please see   the previous pages, <a href="FirstChart.html">Creating First Chart</a> and <a href="MultiSeriesChart.html">Creating Multi-series chart,</a>  as we start off from concepts explained in   that page. </strong></td>
  </tr>
  <tr>
    <td valign="top" class="text"><p>Here is the code that builds up this Combination chart:</p></td>
  </tr>
  <tr>
    <td valign="top" class="text"><pre class="prettyprint code_container">&lt;?php
       <span class="codeComment">&nbsp;&nbsp; # Include FusionCharts PHP Class</span>
      &nbsp;&nbsp;   include('../Class/FusionCharts_Gen.php');
       <span class="codeComment">&nbsp;&nbsp; # Create Column 3D + Line Dual Y-Axis Combination Chart </span>
        &nbsp;&nbsp; $FC = new FusionCharts(&quot;MSColumn3DLineDY&quot;,&quot;350&quot;,&quot;300&quot;);        
        <span class="codeComment">&nbsp;&nbsp; # Set the relative path of the SWF file</span>
        &nbsp;&nbsp; $FC-&gt;setSWFPath(&quot;../FusionCharts/&quot;);  
        <span class="codeComment">&nbsp;&nbsp; #  Store chart attributes in a variable </span>
      &nbsp;&nbsp;   $strParam=&quot;caption=Weekly Sales;subcaption=Comparison;xAxisName=Week;
           <strong>pYAxisName=Revenue;sYAxisName=Total Quantity;</strong>numberPrefix=$;<strong>sNumberSuffix</strong>= U&quot;;
       <span class="codeComment">&nbsp;&nbsp;  #  Set chart attributes</span>
        &nbsp;&nbsp; $FC-&gt;setChartParams($strParam);          
          <span class="codeComment"> # Add  category names</span>
        &nbsp;&nbsp; $FC-&gt;addCategory(&quot;Week 1&quot;);
        &nbsp;&nbsp; $FC-&gt;addCategory(&quot;Week 2&quot;);
        &nbsp;&nbsp; $FC-&gt;addCategory(&quot;Week 3&quot;);
      &nbsp;&nbsp;   $FC-&gt;addCategory(&quot;Week 4&quot;);
       <span class="codeComment">&nbsp;&nbsp; # Add a new dataset with dataset parameters </span>
        &nbsp;&nbsp; $FC-&gt;addDataset(&quot;This Month&quot;,&quot;showValues=0&quot;); 
        <span class="codeComment">  # Add chart data for the above dataset</span>
        &nbsp;&nbsp; $FC-&gt;addChartData(&quot;40800&quot;);
        &nbsp;&nbsp; $FC-&gt;addChartData(&quot;31400&quot;);
        &nbsp;&nbsp; $FC-&gt;addChartData(&quot;26700&quot;);
      &nbsp;&nbsp;   $FC-&gt;addChartData(&quot;54400&quot;);
       <span class="codeComment">&nbsp;&nbsp; # Add another dataset with dataset parameters </span>
        &nbsp;&nbsp; $FC-&gt;addDataset(&quot;Previous Month&quot;,&quot;showValues=0&quot;); 
        <span class="codeComment">&nbsp; # Add chart data for the second dataset</span>
        &nbsp;&nbsp; $FC-&gt;addChartData(&quot;38300&quot;);
        &nbsp;&nbsp; $FC-&gt;addChartData(&quot;28400&quot;);
        &nbsp;&nbsp; $FC-&gt;addChartData(&quot;15700&quot;);
      &nbsp;&nbsp;   $FC-&gt;addChartData(&quot;48100&quot;);
       <span class="codeComment"><strong>&nbsp;&nbsp; </strong># Add third dataset for the secondary axis</span>
        &nbsp;&nbsp; $FC-&gt;addDataset(&quot;Total Quantity&quot;,&quot;<strong>parentYAxis=S</strong>&quot;); 
        <span class="codeComment">&nbsp; # Add  data values</span> <span class="codeComment">for the secondary axis</span> 
        &nbsp;&nbsp; $FC-&gt;addChartData(&quot;64&quot;);
        &nbsp;&nbsp; $FC-&gt;addChartData(&quot;70&quot;);
        &nbsp;&nbsp; $FC-&gt;addChartData(&quot;52&quot;);
      &nbsp;&nbsp;   $FC-&gt;addChartData(&quot;81&quot;);
      ?&gt; 
   &lt;html&gt;
   &nbsp;&nbsp; &lt;head&gt;
   &nbsp;&nbsp; &nbsp;&nbsp; &lt;title&gt;First Chart Using FusionCharts PHP Class&lt;/title&gt;
   &nbsp;&nbsp; &nbsp;&nbsp; &lt;script language='javascript' src='../FusionCharts/FusionCharts.js'&gt;&lt;/script&gt;
   &nbsp;&nbsp; &lt;/head&gt;
   &nbsp;&nbsp; &lt;body&gt;
      &nbsp;&nbsp; &nbsp;&nbsp; &lt;?php
        <span class="codeComment">&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; # Render Chart</span>
        &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; $FC-&gt;renderChart();
       &nbsp;&nbsp; &nbsp;&nbsp; ?&gt;
      &lt;/body&gt;
 &lt;/html&gt;</pre></td>
  </tr>
  <tr>
    <td valign="top" class="text"><p>As you  find in the above code, creating Combination charts is similar to creating multi-series charts. Here too, there are multiple datasets. Some datasets are specified for primary y-axis and some conform to the Secondary y-axis.&nbsp; We need to specify which dataset belongs to which y-axis. Let's see how we did that in the following steps:</p>
      <ul type="disc">
        <li>We include <span class="codeInline">FusionCharts_Gen.php</span>.<br />
           <br />
        </li>
        <li>We create       multi-series Column 3D - Line Combination chart object and set relative path to SWF file.<br />
              <br />
          <pre class="prettyprint code_container">$FC = new FusionCharts(&quot;<strong>MSColumn3DLineDY</strong>&quot;,&quot;350&quot;,&quot;300&quot;); <br />$FC-&gt;setSWFPath(&quot;../FusionCharts/&quot;);</pre><br />
        </li>
        <li>We store       chart attributes in the <span class="codeInline">$strParam</span> variable :<br /> 
           <br />
         <pre class="prettyprint code_container">$strParam=&quot;caption=Weekly Sales;subcaption=Comparison;xAxisName=Week;pYAxisName=Revenue;<strong>
sYAxisName=Total Quantity</strong>;numberPrefix=$;<strong>sNumberSuffix= U</strong>&quot;;</pre>
          <br />
          Combination charts have two y-axes -Parent (p) and Secondary (s). So we have specified names for both of them. Moreover, using <span class="codeInline">sNumberSuffix</span>, we set the number suffix for secondary y-axis.<br />
          <br />
        </li>
        <li>We set these chart attributes by calling <span class="codeInline">setChartParams()</span><br />
           <br /> 
          <pre class="prettyprint code_container">$FC-&gt;setChartParams($strParam);</pre>
           <br />
        </li>
        <li>Next, like in multi-series charts we add categories :<br />
           <br />
            <pre class="prettyprint code_container">$FC-&gt;addCategory(&quot;Week 1&quot;);<br />$FC-&gt;addCategory(&quot;Week 2&quot;);<br />$FC-&gt;addCategory(&quot;Week 3&quot;);<br />$FC-&gt;addCategory(&quot;Week 4&quot;);</pre>
            <br />
        </li>
        <li>We add       the first dataset 'This Month' for primary y-axis. If we do not specify the y-axis the dataset adheres to, the chart automatically sets it to primary y-axis. <br />
           <br />
            <pre class="prettyprint code_container">$FC-&gt;addDataset(&quot;This Month&quot;,&quot;showValues=0&quot;); <br />$FC-&gt;addChartData(&quot;40800&quot;);
$FC-&gt;addChartData(&quot;31400&quot;);<br />$FC-&gt;addChartData(&quot;26700&quot;);<br />$FC-&gt;addChartData(&quot;54400&quot;);</pre>
          <br />
        </li>
        <li>Again, we add another dataset 'Previous Month' for primary y-axis and set its attributes and  data values.<br /> 
           <br />
          <pre class="prettyprint code_container">$FC-&gt;addDataset(&quot;Previous Month&quot;,&quot;showValues=0&quot;); <br />$FC-&gt;addChartData(&quot;38300&quot;);<br />$FC-&gt;addChartData(&quot;28400&quot;);<br />$FC-&gt;addChartData(&quot;15700&quot;);<br />$FC-&gt;addChartData(&quot;48100&quot;);</pre>
            <br />
        </li>
        <li>Now, we add the third dataset, this one  for Secondary y-axis and its data values. Here, we specify the y-axis passing the dataset attribute, <span class="codeInline">parentYAxis=S</span>. <br />
           <br />
        <pre class="prettyprint code_container">$FC-&gt;addDataset(&quot;Total Quantity&quot;,&quot;<strong>parentYaxis=S</strong>&quot;); <br />$FC-&gt;addChartData(&quot;64&quot;);<br />$FC-&gt;addChartData(&quot;70&quot;);<br />$FC-&gt;addChartData(&quot;52&quot;);<br />$FC-&gt;addChartData(&quot;81&quot;);</pre>
        <br />
        </li>
        <li>Finally, we add <span class="codeInline">FusionCharts.js</span> and <br />
           <br />
        </li>
        <li> Render the chart : <br />
           <br />
            <pre class="prettyprint code_container">$FC-&gt;renderChart();</pre></li>
    </ul>    
    </td>
  </tr>
  <tr>
     <td valign="top">&nbsp;</td>
  </tr>
  <tr>
    <td valign="top" class="highlightBlock">Please go through the <a href="Functions.html">FusionCharts PHP Class API Reference</a> section to know more about the functions used in the above code. </td>
  </tr>
  <tr>
    <td valign="top" class="text"><p>This code renders the Combination Chart that we needed.</p> </td>
  </tr>
  
  <tr>
    <td valign="top" class="text"><img src="../Images/ClassImages/ClassCombination.jpg" class="imageBorder" /></td>
  </tr>
</table>
<!-- footer links starts-->
<div id="fcfooter"></div>
<script type="text/javascript">
	document.getElementById("fcfooter").innerHTML =  addFCFooter("Creating Stacked chart|StackedChart.html","Creating Scatter-Bubble chart|ScatterBubble.html");
</script>
<!-- footer links ends -->
<script type="text/javascript" language="javascript1.2">//<![CDATA[
<!--

	highlightSearch();

//-->
//]]></script>
</body>
</html>
