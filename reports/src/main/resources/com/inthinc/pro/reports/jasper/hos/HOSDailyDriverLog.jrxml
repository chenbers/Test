<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="HOSDDL" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<subDataset name="dataset1"/>
	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["C:\\develop\\tiwipro\\root\\reports\\src\\main\\resources\\com\\inthinc\\pro\\reports\\jasper\\"]]></defaultValueExpression>
	</parameter>
	<parameter name="USE_METRIC" class="java.lang.Boolean"/>
	<parameter name="REPORT_DATE_TIME" class="java.lang.String" isForPrompting="false"/>
	<field name="day" class="java.lang.String"/>
	<field name="correctedGraph" class="java.lang.Object"/>
	<field name="originalGraph" class="java.lang.Object"/>
	<field name="edited" class="java.lang.Boolean"/>
	<field name="vehicles" class="java.util.List"/>
	<field name="ruleSetType" class="com.inthinc.hos.model.RuleSetType"/>
	<field name="driverName" class="java.lang.String"/>
	<field name="milesDriven" class="java.lang.Number"/>
	<field name="carrierName" class="java.lang.String"/>
	<field name="codrivers" class="java.lang.String"/>
	<field name="mainAddress" class="java.lang.String"/>
	<field name="terminalAddress" class="java.lang.String"/>
	<field name="shipping" class="java.lang.String"/>
	<field name="trailers" class="java.lang.String"/>
	<field name="correctedGraphList" class="java.util.List"/>
	<field name="remarksList" class="java.util.List"/>
	<field name="recap" class="java.util.List"/>
	<field name="recapType" class="com.inthinc.pro.reports.hos.model.RecapType"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="416" splitType="Stretch">
			<textField>
				<reportElement x="425" y="0" width="130" height="12"/>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$P{REPORT_DATE_TIME}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="16" width="555" height="19"/>
				<textElement textAlignment="Center">
					<font size="14" isUnderline="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$R{report.ddl.title}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="35" width="555" height="11"/>
				<textElement textAlignment="Center">
					<font size="8" isUnderline="false"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$R{report.ddl.legend}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="46" width="64" height="20"/>
				<textElement>
					<font size="12" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$R{report.ddl.header.day}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false">
				<reportElement x="64" y="46" width="100" height="20"/>
				<textElement>
					<font size="12" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{day}]]></textFieldExpression>
			</textField>
			<subreport>
				<reportElement x="0" y="66" width="350" height="28">
					<printWhenExpression><![CDATA[Boolean.valueOf($F{vehicles} != null && !$F{vehicles}.isEmpty())]]></printWhenExpression>
				</reportElement>
				<parametersMapExpression><![CDATA[$P{REPORT_PARAMETERS_MAP}]]></parametersMapExpression>
				<dataSourceExpression><![CDATA[new  net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{vehicles})]]></dataSourceExpression>
				<subreportExpression class="java.lang.String"><![CDATA[$P{SUBREPORT_DIR} + "HOSDailyDriverLog_vehicleHeader.jasper"]]></subreportExpression>
			</subreport>
			<frame>
				<reportElement x="0" y="66" width="350" height="28">
					<printWhenExpression><![CDATA[Boolean.valueOf($F{vehicles} == null || $F{vehicles}.isEmpty())]]></printWhenExpression>
				</reportElement>
				<staticText>
					<reportElement x="2" y="0" width="100" height="14"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<text><![CDATA[0]]></text>
				</staticText>
				<line>
					<reportElement x="0" y="14" width="100" height="1"/>
				</line>
				<textField pattern="">
					<reportElement x="0" y="15" width="100" height="12"/>
					<textElement textAlignment="Center">
						<font size="8" isBold="true" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$R{report.ddl.header.startOdometer}]]></textFieldExpression>
				</textField>
				<line>
					<reportElement x="110" y="14" width="240" height="1"/>
				</line>
				<textField pattern="">
					<reportElement x="110" y="15" width="240" height="12"/>
					<textElement textAlignment="Center">
						<font size="8" isBold="true" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[com.inthinc.pro.reports.converter.MeasurementTextConverter.getMessage("report.ddl.header.vehiclesDistance",$P{REPORT_LOCALE},$P{USE_METRIC})]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="110" y="0" width="240" height="14"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$R{report.ddl.none}]]></textFieldExpression>
				</textField>
			</frame>
			<textField isStretchWithOverflow="true">
				<reportElement x="357" y="69" width="133" height="12"/>
				<textElement textAlignment="Center">
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{ruleSetType}.getDisplayName()]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="357" y="81" width="133" height="1"/>
			</line>
			<textField pattern="">
				<reportElement x="357" y="82" width="133" height="12"/>
				<textElement textAlignment="Center">
					<font size="8" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$R{report.ddl.header.rule}]]></textFieldExpression>
			</textField>
			<subreport>
				<reportElement mode="Transparent" x="500" y="46" width="55" height="223" isRemoveLineWhenBlank="true">
					<printWhenExpression><![CDATA[Boolean.valueOf($F{recapType} != com.inthinc.pro.reports.hos.model.RecapType.NONE)]]></printWhenExpression>
				</reportElement>
				<parametersMapExpression><![CDATA[$P{REPORT_PARAMETERS_MAP}]]></parametersMapExpression>
				<dataSourceExpression><![CDATA[new  net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{recap})]]></dataSourceExpression>
				<subreportExpression class="java.lang.String"><![CDATA[$P{SUBREPORT_DIR} + "HOSDailyDriverLog_recap"+$F{recapType}.toString()+".jasper"]]></subreportExpression>
			</subreport>
			<textField>
				<reportElement positionType="Float" x="0" y="95" width="185" height="20"/>
				<textElement textAlignment="Center">
					<font size="14" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{driverName}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement positionType="Float" x="0" y="114" width="185" height="1"/>
			</line>
			<textField pattern="">
				<reportElement positionType="Float" x="0" y="117" width="185" height="12"/>
				<textElement textAlignment="Center">
					<font size="8" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$R{report.ddl.header.driver}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement positionType="Float" x="205" y="95" width="185" height="20"/>
				<textElement textAlignment="Center">
					<font size="14" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[com.inthinc.pro.reports.converter.MeasurementConverter.convertDistance100th($F{milesDriven},$P{USE_METRIC},$P{REPORT_LOCALE})]]></textFieldExpression>
			</textField>
			<line>
				<reportElement positionType="Float" x="205" y="114" width="185" height="1"/>
			</line>
			<textField pattern="">
				<reportElement positionType="Float" x="205" y="117" width="185" height="12"/>
				<textElement textAlignment="Center">
					<font size="8" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[com.inthinc.pro.reports.converter.MeasurementTextConverter.getMessage("report.ddl.header.driverDistance",$P{REPORT_LOCALE},$P{USE_METRIC})]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement positionType="Float" x="0" y="131" width="350" height="20"/>
				<textElement textAlignment="Center">
					<font size="14" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{carrierName}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement positionType="Float" x="0" y="150" width="350" height="1"/>
			</line>
			<textField pattern="">
				<reportElement positionType="Float" x="0" y="153" width="350" height="12"/>
				<textElement textAlignment="Center">
					<font size="8" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$R{report.ddl.header.carrier}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement positionType="Float" x="357" y="137" width="140" height="12"/>
				<textElement textAlignment="Center">
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[($F{codrivers}.length() == 0) ? $R{report.ddl.none} : $F{codrivers}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement positionType="Float" x="357" y="149" width="140" height="1"/>
			</line>
			<textField pattern="">
				<reportElement positionType="Float" x="357" y="150" width="140" height="12"/>
				<textElement textAlignment="Center">
					<font size="8" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$R{report.ddl.header.codriver}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement positionType="Float" x="0" y="165" width="274" height="12"/>
				<textElement textAlignment="Center">
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{mainAddress}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement positionType="Float" x="0" y="177" width="495" height="1"/>
			</line>
			<textField pattern="">
				<reportElement positionType="Float" x="0" y="178" width="274" height="12"/>
				<textElement textAlignment="Center">
					<font size="8" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$R{report.ddl.header.mainAddress}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement positionType="Float" x="278" y="165" width="220" height="12"/>
				<textElement textAlignment="Center">
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{terminalAddress}]]></textFieldExpression>
			</textField>
			<textField pattern="">
				<reportElement positionType="Float" x="278" y="178" width="220" height="12"/>
				<textElement textAlignment="Center">
					<font size="8" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$R{report.ddl.header.terminalAddress}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement positionType="Float" x="-1" y="190" width="495" height="20">
					<printWhenExpression><![CDATA[(Boolean.valueOf($F{edited}.equals(Boolean.FALSE)))]]></printWhenExpression>
				</reportElement>
				<textElement>
					<font size="12" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$R{report.ddl.graphTitle}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement positionType="Float" x="-1" y="190" width="495" height="20">
					<printWhenExpression><![CDATA[($F{edited})]]></printWhenExpression>
				</reportElement>
				<textElement>
					<font size="12" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$R{report.ddl.graphTitleEdited}]]></textFieldExpression>
			</textField>
			<image scaleImage="RealSize">
				<reportElement positionType="Float" x="0" y="210" width="495" height="50"/>
				<imageExpression class="java.awt.Image"><![CDATA[$F{correctedGraph}]]></imageExpression>
			</image>
			<textField isBlankWhenNull="true">
				<reportElement positionType="Float" x="0" y="261" width="495" height="20" isRemoveLineWhenBlank="true">
					<printWhenExpression><![CDATA[($F{edited})]]></printWhenExpression>
				</reportElement>
				<textElement>
					<font size="12" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$R{report.ddl.graphTitleOriginal}]]></textFieldExpression>
			</textField>
			<image scaleImage="RealSize">
				<reportElement positionType="Float" x="0" y="282" width="495" height="50" isRemoveLineWhenBlank="true">
					<printWhenExpression><![CDATA[($F{edited})]]></printWhenExpression>
				</reportElement>
				<imageExpression class="java.awt.Image"><![CDATA[$F{originalGraph}]]></imageExpression>
			</image>
			<rectangle>
				<reportElement positionType="Float" x="2" y="333" width="110" height="35"/>
			</rectangle>
			<textField>
				<reportElement positionType="Float" x="11" y="338" width="60" height="12"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$R{report.ddl.graph.legend.corrected}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement positionType="Float" x="11" y="353" width="60" height="12"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$R{report.ddl.graph.legend.original}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement positionType="Float" x="76" y="343" width="30" height="1"/>
				<graphicElement>
					<pen lineWidth="2.0"/>
				</graphicElement>
			</line>
			<line>
				<reportElement positionType="Float" x="76" y="358" width="30" height="1"/>
				<graphicElement>
					<pen lineWidth="1.0"/>
				</graphicElement>
			</line>
			<textField isStretchWithOverflow="true">
				<reportElement positionType="Float" x="7" y="372" width="160" height="15"/>
				<textElement>
					<font size="8" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$R{report.ddl.shipping}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement positionType="Float" x="167" y="372" width="215" height="15"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[($F{shipping} == null ||$F{shipping}.isEmpty()) ? $R{report.ddl.none} : $F{shipping}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement positionType="Float" x="386" y="372" width="64" height="15"/>
				<textElement>
					<font size="8" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$R{report.ddl.trailers}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement positionType="Float" x="450" y="372" width="44" height="15"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[($F{trailers} == null ||$F{trailers}.isEmpty()) ? $R{report.ddl.none} : $F{trailers}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="false">
				<reportElement positionType="Float" x="7" y="390" width="422" height="25" isRemoveLineWhenBlank="true">
					<printWhenExpression><![CDATA[Boolean.valueOf($F{ruleSetType} == com.inthinc.hos.model.RuleSetType.CANADA_2007_OIL || $F{ruleSetType} == com.inthinc.hos.model.RuleSetType.CANADA_2007_60_DEGREES_OIL)]]></printWhenExpression>
				</reportElement>
				<textElement verticalAlignment="Bottom">
					<font size="12"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[str("report.ddl.exemption."+$F{ruleSetType}.toString())]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<pageHeader>
		<band height="16" splitType="Stretch">
			<textField isStretchWithOverflow="true">
				<reportElement positionType="Float" x="0" y="0" width="495" height="16"/>
				<textElement verticalAlignment="Bottom">
					<font size="12" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$R{report.ddl.remarks}]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<detail>
		<band height="38" splitType="Stretch">
			<subreport>
				<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="0" y="2" width="555" height="35"/>
				<parametersMapExpression><![CDATA[$P{REPORT_PARAMETERS_MAP}]]></parametersMapExpression>
				<dataSourceExpression><![CDATA[new  net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{remarksList})]]></dataSourceExpression>
				<subreportExpression class="java.lang.String"><![CDATA[$P{SUBREPORT_DIR} + "HOSDailyDriverLog_remarks.jasper"]]></subreportExpression>
			</subreport>
		</band>
	</detail>
	<lastPageFooter>
		<band height="58" splitType="Prevent">
			<textField isStretchWithOverflow="true" isBlankWhenNull="false">
				<reportElement positionType="Float" x="0" y="36" width="204" height="22" isRemoveLineWhenBlank="true">
					<printWhenExpression><![CDATA[($F{edited})]]></printWhenExpression>
				</reportElement>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$R{report.ddl.disclaimer}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement positionType="Float" x="342" y="34" width="200" height="1">
					<printWhenExpression><![CDATA[($F{edited})]]></printWhenExpression>
				</reportElement>
			</line>
			<line>
				<reportElement positionType="Float" x="4" y="35" width="200" height="1"/>
			</line>
			<textField>
				<reportElement positionType="Float" x="342" y="0" width="200" height="15">
					<printWhenExpression><![CDATA[($F{edited})]]></printWhenExpression>
				</reportElement>
				<textElement>
					<font size="10" isBold="false"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$R{report.ddl.adminSignature}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement positionType="Float" x="97" y="0" width="110" height="15" isRemoveLineWhenBlank="true"/>
				<textElement>
					<font size="10" isBold="false"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{driverName}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement positionType="Float" x="2" y="0" width="97" height="15"/>
				<textElement>
					<font size="10" isBold="false"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$R{report.ddl.driverSignature}]]></textFieldExpression>
			</textField>
		</band>
	</lastPageFooter>
</jasperReport>
